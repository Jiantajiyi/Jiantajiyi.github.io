<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[ä¿®æ”¹ç½‘ç»œé¢‘æ®µä»¥æå‡ç½‘é€Ÿ]]></title>
    <url>%2Fpost%2Fc4ff8bf4.html</url>
    <content type="text"><![CDATA[å¼ºåˆ¶ä¿®æ”¹é¢‘æ®µä»¥èŽ·å¾—æ›´å¥½çš„ç½‘è·¯ä½“éªŒï¼Œé€‚ç”¨äºŽè“ç»¿å¤§åŽ‚å’Œæœ‰rootæƒé™ä¸”ä¸ºéªé¾™å¤„ç†å™¨çš„æ‰‹æœº å†™åœ¨æœ€å‰ æˆ‘ä»¬çš„æ‰‹æœºéžå¸¸çš„æ™ºèƒ½ï¼Œä½†æœ‰æ—¶å€™å´è¾¾ä¸åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæžœï¼Œéœ€è¦æˆ‘ä»¬åŽ»æ‰‹åŠ¨çš„æ›´æ”¹ï¼Œæ¯”å¦‚ï¼Œåœ¨äººæ•°èšé›†çš„åœ°æ–¹ï¼Œå¾€å¾€ä¿¡å·æ˜¾ç¤ºæ»¡æ ¼ä¸Šç½‘å´å¾ˆæ…¢ï¼Œå°¤å…¶æ˜¯åœ¨å­¦æ ¡å®¿èˆï¼Œæ•™å­¦æ¥¼è¿™ç§åœ°æ–¹ï¼Œè¿è¥å•†çš„åŸºç«™æ•°é‡ä¸å¤Ÿï¼Œå¯¼è‡´ä¸ºæ•°ä¸å¤šçš„åŸºç«™è¶…è´Ÿè·è¿è¡Œï¼Œè‡ªç„¶ç½‘é€Ÿå¾ˆæ…¢ã€‚è€Œæˆ‘ä»¬çš„æ‰‹æœºä¼šè‡ªåŠ¨é€‰æ‹©é™„è¿‘ä¿¡å·æœ€å¥½çš„é¢‘æ®µè¿›è¡Œè¿žæŽ¥ï¼ŒåŒä¸€åœ°ç‚¹å¤§å®¶çš„æ‰‹æœºéƒ½é€‰æ‹©ä¿¡å·æœ€å¥½çš„é¢‘æ®µè¿žæŽ¥ï¼Œè‡ªç„¶ä¼šè¶…è´Ÿè·ï¼Œæœ¬æ•™ç¨‹çš„æ€è·¯å°±æ˜¯å¼ºåˆ¶æ‰‹åŠ¨é€‰æ‹©å…¶ä»–çš„é¢‘æ®µè¿›è¡Œè¿žæŽ¥ï¼Œä½ ä»¬éƒ½è¿žæŽ¥ä¿¡å·æœ€å¥½çš„é¢‘æ®µï¼Œå…¶ä»–çš„é¢‘æ®µæ²¡äººè¿žæŽ¥ï¼Œæˆ‘è¿žæŽ¥ï¼Œæˆ‘ç½‘é€Ÿä¸å¿«è°ç½‘é€Ÿå¿«ã€‚ è“ç»¿å¤§åŽ‚è“ç»¿å¤§åŽ‚çš„æ“ä½œç›¸å¯¹ç®€å•ï¼Œå› ä¸ºæ‰‹æœºå·²ç»å†…ç½®äº†å·¥å…·ï¼Œæˆ‘ä»¬åªéœ€è¦ä¸€ç‚¹å°å°çš„å¸®åŠ©æ‰¾åˆ°è¿™ä¸ªéšè—çš„å·¥å…·ä¸‹è½½é“¾æŽ¥çš„è½¯ä»¶é“¾æŽ¥: moreshortcutsæå–ç : itm3 å®‰è£…ä¹‹åŽæ‰“å¼€è½¯ä»¶ï¼Œç‚¹å‡»ç¬¬ä¸€é¡¹Activity æœç´¢lteï¼Œç‚¹å‡»lte band modeï¼Œä¸åŒåž‹å·ç•¥æœ‰ä¸åŒ åˆ›å»ºå¿«æ·æ–¹å¼ï¼Œç‚¹å‡»ç¡®å®šï¼Œå¦‚æžœæ¡Œé¢æ²¡æœ‰å¿«æ·æ–¹å¼ï¼Œè¯·æ£€æŸ¥æ˜¯å¦ç»™ä¸Žè½¯ä»¶åˆ›å»ºæ¡Œé¢å¿«æ·æ–¹å¼çš„æƒé™è¿™é‡Œä¸åŒåž‹å·çš„æ‰‹æœºå¯èƒ½ç•¥æœ‰ä¸åŒï¼Œæœ‰çš„ç›´æŽ¥ç‚¹å‡»å°±èƒ½æ‰“å¼€å·¥å…·è€Œä¸ç”¨åˆ›å»ºæ¡Œé¢å¿«æ·æ–¹å¼ï¼Œè‹¥èƒ½ç›´æŽ¥æ‰“å¼€ï¼Œè¯·å¿½ç•¥ç¬¬å››æ­¥ æ‰“å¼€æ¡Œé¢å¿«æ·æ–¹å¼ ä¸åŒåž‹å·æ‰‹æœºç•Œé¢ä¸ä¸€ï¼Œæœ‰å¯èƒ½æ˜¯ä¸‹é¢è¿™å‡ ç§ï¼ŒåŠŸèƒ½éƒ½ä¸€æ ·ã€‚ é”å®šbandæ ¹æ®è‡ªå·±çš„è¿è¥å•†é€‰æ‹©ç›¸åº”çš„é¢‘æ®µï¼Œå‹¾é€‰lteçš„å…¶ä¸­ä¸€ä¸ªé¢‘æ®µå³å¯.123ç§»ä¸åŠ¨LTEé¢‘æ®µï¼šband 1,3,8,38,39,40,41è”ä¸é€šLTEé¢‘æ®µï¼šband 1,3,5,7,41ä¿¡ä¸è¿‡LTEé¢‘æ®µï¼šband 1,3,40,41 æ³¨æ„ï¼Œå°½é‡å°†GSMçš„WACDMAå…¨é€‰ï¼Œä¸ç„¶æŸäº›åž‹å·å¯èƒ½æ— æ³•æŽ¥æ‰“ç”µè¯å’Œæ”¶å‘çŸ­ä¿¡ã€‚ä¿®æ”¹å®Œæˆä¹‹åŽå¯ä»¥åŽ»åº”ç”¨å•†åº—ä¸‹è½½è½¯ä»¶æµ‹è¯•ä¸€ä¸‹ç½‘é€Ÿï¼Œç„¶åŽæ›´æ¢ä¸åŒçš„é¢‘æ®µæµ‹è¯•ï¼Œæ‰¾åˆ°ç½‘é€Ÿæœ€å¥½çš„é¢‘æ®µå³å¯ã€‚è¿™é‡Œæˆ‘æµ‹è¯•ç§»åŠ¨b3,b8ç½‘é€Ÿè¾ƒå¥½ï¼Œè”é€šb1ï¼Œb3ï¼Œç”µä¿¡b1,ä¸åŒåŒºåŸŸæƒ…å†µå¯èƒ½ä¸ä¸€æ ·è‡³æ­¤ è“ç»¿å¤§åŽ‚æ•™ç¨‹ç»“æŸï¼Œå¦‚æžœå“ªé‡Œæœ‰é—®é¢˜ï¼Œç‚¹å‡»æ‰“å¼€QQèŠå¤© æœ‰rootæƒé™ä¸”ä¸ºéªé¾™å¤„ç†å™¨æ²¡æœ‰rootæƒé™å°±ä¸ç”¨å¾€ä¸‹çœ‹äº†å¯ä»¥è‡ªè¡Œæœç´¢å¦‚ä½•èŽ·å–è‡ªå·±æ‰‹æœºçš„rootæƒé™åˆ‡è®°ä¸ç”¨ä½¿ç”¨é‚£äº›æ‰€è°“çš„rootç²¾çµä¹‹ç±»çš„è½¯ä»¶ èƒ½èŽ·å–rootæƒé™çš„éƒ½æ˜¯å¤§ä½¬æˆ‘å°±ä¸å†™äº†ï¼Œ]]></content>
      <categories>
        <category>æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>æ•™ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[firewallè®¾ç½®]]></title>
    <url>%2Fpost%2F55eac912.html</url>
    <content type="text"><![CDATA[è¿™é‡Œå†™ä»‹ç» è¿™é‡Œå†™æ–‡ç« ]]></content>
      <categories>
        <category>è¿™é‡Œå†™åˆ†ç±»</category>
      </categories>
      <tags>
        <tag>è¿™é‡Œå†™æ ‡ç­¾</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[raid-å»‰ä»·ç£ç›˜å†—ä½™é˜µåˆ—]]></title>
    <url>%2Fpost%2F5d65ed4e.html</url>
    <content type="text"><![CDATA[å»‰ä»·ç£ç›˜å†—ä½™é˜µåˆ—ï¼ˆRedundant Array of inexpensive Disksï¼‰ å‡†å¤‡11å—æ–°ç¡¬ç›˜[root@server_1 ~]# lsblk1234567891011121314151617NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINTsda 8:0 0 30G 0 diskâ”œâ”€sda1 8:1 0 200M 0 part /bootâ”œâ”€sda2 8:2 0 20G 0 part /â””â”€sda3 8:3 0 2G 0 part [SWAP]sdb 8:16 0 10G 0 disksdc 8:32 0 10G 0 disksdd 8:48 0 10G 0 disksde 8:64 0 10G 0 disksdf 8:80 0 10G 0 disksdg 8:96 0 10G 0 disksdh 8:112 0 10G 0 disksdi 8:128 0 10G 0 disksdj 8:144 0 10G 0 disksdk 8:160 0 10G 0 disksdl 8:176 0 10G 0 disksr0 11:0 1 3.8G 0 rom raid0[root@server_1 ~]# mdadm -C /dev/md0 -l 0 -n 2 /dev/sdb /dev/sdc1234567mdadm: /dev/sdb appears to be part of a raid array: level=raid0 devices=0 ctime=Thu Jan 1 08:00:00 1970mdadm: partition table exists on /dev/sdb but will be lost or meaningless after creating arrayContinue creating array? (y/n) ymdadm: Defaulting to version 1.2 metadatamdadm: array /dev/md0 started. [root@server_1 ~]# mdadm -Ds1ARRAY /dev/md0 metadata=1.2 name=server_1:0 UUID=f8119066:89b2c4f4:565a4b39:a537f251 [root@server_1 ~]# mdadm -Ds &gt; /etc/mdadm.conf[root@server_1 ~]# mdadm -D /dev/md012345678910111213141516171819202122232425/dev/md0: Version : 1.2 Creation Time : Sat May 11 18:59:11 2019 Raid Level : raid0 Array Size : 20955136 (19.98 GiB 21.46 GB) Raid Devices : 2 Total Devices : 2 Persistence : Superblock is persistent Update Time : Sat May 11 18:59:11 2019 State : clean Active Devices : 2Working Devices : 2 Failed Devices : 0 Spare Devices : 0 Chunk Size : 512K Name : server_1:0 (local to host server_1) UUID : f8119066:89b2c4f4:565a4b39:a537f251 Events : 0 Number Major Minor RaidDevice State 0 8 16 0 active sync /dev/sdb 1 8 32 1 active sync /dev/sdc [root@server_1 ~]# mkfs.ext4 /dev/md0123456789101112131415161718192021mke2fs 1.42.9 (28-Dec-2013)Filesystem label=OS type: LinuxBlock size=4096 (log=2)Fragment size=4096 (log=2)Stride=128 blocks, Stripe width=256 blocks1310720 inodes, 5238784 blocks261939 blocks (5.00%) reserved for the super userFirst data block=0Maximum filesystem blocks=2153775104160 block groups32768 blocks per group, 32768 fragments per group8192 inodes per groupSuperblock backups stored on blocks: 32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208, 4096000Allocating group tables: doneWriting inode tables: doneCreating journal (32768 blocks): doneWriting superblocks and filesystem accounting information: done [root@server_1 ~]# blkid /dev/md01/dev/md0: UUID=&quot;55d97bfc-48c6-4e24-89e3-0f4ed0168501&quot; TYPE=&quot;ext4&quot; [root@server_1 ~]# mkdir /raid0[root@server_1 ~]# vim /etc/fstab1UUID=55d97bfc-48c6-4e24-89e3-0f4ed0168501 /raid0 ext4 defaults 0 0 [root@server_1 ~]# mount -a[root@server_1 ~]# df -Th12Filesystem Type Size Used Avail Use% Mounted on/dev/md0 ext4 20G 45M 19G 1% /raid0 raid1[root@server_1 ~]# mdadm -C -v /dev/md1 -l 1 -n 2 -x 1 /dev/sdd /dev/sde /dev/sdf123456789mdadm: Note: this array has metadata at the start and may not be suitable as a boot device. If you plan to store &apos;/boot&apos; on this device please ensure that your boot-loader understands md/v1.x metadata, or use --metadata=0.90mdadm: size set to 10477568KContinue creating array? ymdadm: Defaulting to version 1.2 metadatamdadm: array /dev/md1 started. [root@server_1 ~]# mdadm -D /dev/md112345678910111213141516171819202122232425262728/dev/md1: Version : 1.2 Creation Time : Sat May 11 19:12:02 2019 Raid Level : raid1 Array Size : 10477568 (9.99 GiB 10.73 GB) Used Dev Size : 10477568 (9.99 GiB 10.73 GB) Raid Devices : 2 Total Devices : 3 Persistence : Superblock is persistent Update Time : Sat May 11 19:12:24 2019 State : clean, resyncing Active Devices : 2Working Devices : 3 Failed Devices : 0 Spare Devices : 1 Resync Status : 43% complete Name : server_1:1 (local to host server_1) UUID : 362091c4:db92f8c3:53e6a4a0:a9d808d5 Events : 7 Number Major Minor RaidDevice State 0 8 48 0 active sync /dev/sdd 1 8 64 1 active sync /dev/sde 2 8 80 - spare /dev/sdf [root@server_1 ~]# mdadm -Ds12ARRAY /dev/md0 metadata=1.2 name=server_1:0 UUID=f8119066:89b2c4f4:565a4b39:a537f251ARRAY /dev/md1 metadata=1.2 spares=1 name=server_1:1 UUID=362091c4:db92f8c3:53e6a4a0:a9d808d5 [root@server_1 ~]# mdadm -Ds &gt; /etc/mdadm.conf[root@server_1 ~]# mkfs.ext4 /dev/md11234567891011121314151617181920mke2fs 1.42.9 (28-Dec-2013)Filesystem label=OS type: LinuxBlock size=4096 (log=2)Fragment size=4096 (log=2)Stride=0 blocks, Stripe width=0 blocks655360 inodes, 2619392 blocks130969 blocks (5.00%) reserved for the super userFirst data block=0Maximum filesystem blocks=215167795280 block groups32768 blocks per group, 32768 fragments per group8192 inodes per groupSuperblock backups stored on blocks: 32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632Allocating group tables: doneWriting inode tables: doneCreating journal (32768 blocks): doneWriting superblocks and filesystem accounting information: done [root@server_1 ~]# mkdir /raid1[root@server_1 ~]# mount /dev/md1 /raid1[root@server_1 ~]# df -Th123Filesystem Type Size Used Avail Use% Mounted on/dev/md0 ext4 20G 45M 19G 1% /raid0/dev/md1 ext4 9.8G 37M 9.2G 1% /raid1 raid5[root@server_1 ~]# mdadm -C -v /dev/md5 -l 5 -n 3 -x 1 -c 32 /dev/sdg /dev/sdh /dev/sdi /dev/sdj12345mdadm: layout defaults to left-symmetricmdadm: layout defaults to left-symmetricmdadm: size set to 10477568Kmdadm: Defaulting to version 1.2 metadatamdadm: array /dev/md5 started. [root@server_1 ~]# mdadm -D /dev/md51234567891011121314151617181920212223242526272829303132/dev/md5: Version : 1.2 Creation Time : Sat May 11 19:18:23 2019 Raid Level : raid5 Array Size : 20955136 (19.98 GiB 21.46 GB) Used Dev Size : 10477568 (9.99 GiB 10.73 GB) Raid Devices : 3 Total Devices : 4 Persistence : Superblock is persistent Update Time : Sat May 11 19:18:40 2019 State : clean, degraded, recovering Active Devices : 2Working Devices : 4 Failed Devices : 0 Spare Devices : 2 Layout : left-symmetric Chunk Size : 32K Rebuild Status : 34% complete Name : server_1:5 (local to host server_1) UUID : 06bcbf33:573ff69a:cfe80b2a:24848ece Events : 6 Number Major Minor RaidDevice State 0 8 96 0 active sync /dev/sdg 1 8 112 1 active sync /dev/sdh 4 8 128 2 spare rebuilding /dev/sdi 3 8 144 - spare /dev/sdj [root@server_1 ~]# mdadm -Dsv123456ARRAY /dev/md0 level=raid0 num-devices=2 metadata=1.2 name=server_1:0 UUID=f8119066:89b2c4f4:565a4b39:a537f251 devices=/dev/sdb,/dev/sdcARRAY /dev/md1 level=raid1 num-devices=2 metadata=1.2 spares=1 name=server_1:1 UUID=362091c4:db92f8c3:53e6a4a0:a9d808d5 devices=/dev/sdd,/dev/sde,/dev/sdfARRAY /dev/md5 level=raid5 num-devices=3 metadata=1.2 spares=2 name=server_1:5 UUID=06bcbf33:573ff69a:cfe80b2a:24848ece devices=/dev/sdg,/dev/sdh,/dev/sdi,/dev/sdj [root@server_1 ~]# mdadm -Dsv &gt; /etc/mdadm.conf[root@server_1 ~]# mkdir /raid5[root@server_1 ~]# mkfs.ext4 /dev/md5123456789101112131415161718192021mke2fs 1.42.9 (28-Dec-2013)Filesystem label=OS type: LinuxBlock size=4096 (log=2)Fragment size=4096 (log=2)Stride=8 blocks, Stripe width=16 blocks1310720 inodes, 5238784 blocks261939 blocks (5.00%) reserved for the super userFirst data block=0Maximum filesystem blocks=2153775104160 block groups32768 blocks per group, 32768 fragments per group8192 inodes per groupSuperblock backups stored on blocks: 32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208, 4096000Allocating group tables: doneWriting inode tables: doneCreating journal (32768 blocks): doneWriting superblocks and filesystem accounting information: done [root@server_1 ~]# mount /dev/md5 /raid5[root@server_1 ~]# df -Th1234Filesystem Type Size Used Avail Use% Mounted on/dev/md0 ext4 20G 45M 19G 1% /raid0/dev/md1 ext4 9.8G 37M 9.2G 1% /raid1/dev/md5 ext4 20G 45M 19G 1% /raid5 raid10å‡†å¤‡å¦‚ä¸‹åˆ†åŒº[root@server_1 ~]# lsblk /dev/sdk1234567NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINTsdk 8:160 0 10G 0 diskâ”œâ”€sdk1 8:161 0 1G 0 partâ”œâ”€sdk2 8:162 0 1G 0 partâ”œâ”€sdk3 8:163 0 1G 0 partâ”œâ”€sdk4 8:164 0 1K 0 partâ””â”€sdk5 8:165 0 1G 0 part [root@server_1 ~]# mdadm -C -v /dev/md10 -l 10 -n 4 /dev/sdk1 /dev/sdk2 /dev/sdk3 /dev/sdk5123456mdadm: layout defaults to n2mdadm: layout defaults to n2mdadm: chunk size defaults to 512Kmdadm: size set to 1047552Kmdadm: Defaulting to version 1.2 metadatamdadm: array /dev/md10 started. [root@server_1 ~]# cat /proc/mdstat1234567891011121314Personalities : [raid0] [raid1] [raid6] [raid5] [raid4] [raid10]md10 : active raid10 sdk5[3] sdk3[2] sdk2[1] sdk1[0] 2095104 blocks super 1.2 512K chunks 2 near-copies [4/4] [UUUU]md5 : active raid5 sdi[4] sdj[3](S) sdh[1] sdg[0] 20955136 blocks super 1.2 level 5, 32k chunk, algorithm 2 [3/3] [UUU]md1 : active raid1 sdf[2](S) sde[1] sdd[0] 10477568 blocks super 1.2 [2/2] [UU]md0 : active raid0 sdc[1] sdb[0] 20955136 blocks super 1.2 512k chunksunused devices: &lt;none&gt; [root@server_1 ~]# mdadm -Dsv &gt; /etc/mdadm.conf[root@server_1 ~]# mkdir /raid10[root@server_1 ~]# mkfs.ext4 /dev/md101234567891011121314151617181920mke2fs 1.42.9 (28-Dec-2013)Filesystem label=OS type: LinuxBlock size=4096 (log=2)Fragment size=4096 (log=2)Stride=128 blocks, Stripe width=256 blocks131072 inodes, 523776 blocks26188 blocks (5.00%) reserved for the super userFirst data block=0Maximum filesystem blocks=53687091216 block groups32768 blocks per group, 32768 fragments per group8192 inodes per groupSuperblock backups stored on blocks: 32768, 98304, 163840, 229376, 294912Allocating group tables: doneWriting inode tables: doneCreating journal (8192 blocks): doneWriting superblocks and filesystem accounting information: done [root@server_1 ~]# mount /dev/md10 /raid10/[root@server_1 ~]# df -Th12345Filesystem Type Size Used Avail Use% Mounted on/dev/md0 ext4 20G 45M 19G 1% /raid0/dev/md1 ext4 9.8G 37M 9.2G 1% /raid1/dev/md5 ext4 20G 45M 19G 1% /raid5/dev/md10 ext4 2.0G 6.0M 1.9G 1% /raid10 åˆ é™¤ç£ç›˜ä¸­æ‰€æœ‰raidä¿¡æ¯[root@server_1 ~]# umount /raid*[root@server_1 ~]# mdadm -Ss[root@server_1 ~]# rm -rf /etc/mdadm.conf[root@server_1 ~]# mdadm --zero-superblock /dev/sd{b,c,d,e,f,g,h,i,j,k}åˆ é™¤ä¹‹å‰æ·»åŠ çš„å¼€æœºè‡ªåŠ¨æŒ‚è½½çš„é¡¹[root@server_1 ~]# vim /etc/fstab1UUID=55d97bfc-48c6-4e24-89e3-0f4ed0168501 /raid0 ext4 defaults 0 0]]></content>
      <categories>
        <category>RHCE</category>
      </categories>
      <tags>
        <tag>RHCE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LVM-é€»è¾‘å·ç®¡ç†]]></title>
    <url>%2Fpost%2Fdd829813.html</url>
    <content type="text"><![CDATA[å±è”½åº•å±‚ç£ç›˜å¸ƒå±€ï¼Œä¾¿äºŽåŠ¨æ€ç®¡ç†ç£ç›˜å®¹é‡ åˆ›å»ºæ–°çš„swapåˆ†åŒºå‡†å¤‡ä¸€ä¸ªæ–°çš„åˆ†åŒºï¼Œè¿™é‡Œæˆ‘é€‰æ‹©/dev/sdb1ï¼Œå¹¶åœ¨å»ºç«‹sdb1åˆ†åŒºçš„æ—¶å€™æ‰“æ ‡ç­¾82ï¼Œæœ€åŽè®©å†…æ ¸é‡æ–°è¯†åˆ«æ–°å»ºçš„åˆ†åŒºpartprobe[root@server_1 ~]# fdisk -l /dev/sdb123456789Disk /dev/sdb: 10.7 GB, 10737418240 bytes, 20971520 sectorsUnits = sectors of 1 * 512 = 512 bytesSector size (logical/physical): 512 bytes / 512 bytesI/O size (minimum/optimal): 512 bytes / 512 bytesDisk label type: dosDisk identifier: 0xdd460f12 Device Boot Start End Blocks Id System/dev/sdb1 2048 4196351 2097152 82 Linux swap / Solaris [root@server_1 ~]# lsblk /dev/sdb112NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINTsdb1 8:17 0 2G 0 part æ ¼å¼åŒ–ä¸ºäº¤æ¢åˆ†åŒº[root@server_1 ~]# mkswap /dev/sdb1123mkswap: /dev/sdb1: warning: wiping old swap signature.Setting up swapspace version 1, size = 2097148 KiBno label, UUID=3f1479f0-b83b-4631-b6b4-109f0f482f34 æœªå¯ç”¨å‰æŸ¥çœ‹[root@server_1 ~]# swapon -s12Filename Type Size Used Priority/dev/sda3 partition 2047996 0 -1 [root@server_1 ~]# free -m123 total used free shared buff/cache availableMem: 1824 324 1122 9 378 1313Swap: 1999 0 1999 å¯ç”¨äº¤æ¢åˆ†åŒº[root@server_1 ~]# swapon /dev/sdb1 å¯ç”¨åŽæŸ¥çœ‹[root@server_1 ~]# swapon -s123Filename Type Size Used Priority/dev/sda3 partition 2047996 0 -1/dev/sdb1 partition 2097148 0 -2 [root@server_1 ~]# free -m123 total used free shared buff/cache availableMem: 1824 325 1120 9 378 1312Swap: 4047 0 4047 å¼€æœºè‡ªåŠ¨æŒ‚è½½[root@server_1 ~]# vim /etc/fstab1/dev/sdb1 swap swap defaults 0 0 åˆ é™¤swapåˆ†åŒº å…³é—­swapåˆ†åŒº[root@server_1 ~]# swapoff /dev/sdb1 å°†/dev/sdb1 æ ‡ç­¾æ”¹å›ž83[root@server_1 ~]# fdisk -l /dev/sdb 123456789Disk /dev/sdb: 10.7 GB, 10737418240 bytes, 20971520 sectorsUnits = sectors of 1 * 512 = 512 bytesSector size (logical/physical): 512 bytes / 512 bytesI/O size (minimum/optimal): 512 bytes / 512 bytesDisk label type: dosDisk identifier: 0xdd460f12 Device Boot Start End Blocks Id System/dev/sdb1 2048 4196351 2097152 83 Linux åˆ é™¤/etc/fstabå¢žåŠ çš„å†…å®¹[root@server_1 ~]# vim /etc/fstab 1/dev/sdb1 swap swap defaults 0 0 LVM-é€»è¾‘å·ç®¡ç†ç»™åˆ†åŒºæ‰“æ ‡ç­¾ï¼Œç‰©ç†å·_PVä½¿ç”¨/dev/sdb1 /dev/sdb2 æ‰“æ ‡ç­¾8e[root@server_1 ~]# fdisk -l /dev/sdb12345678910Disk /dev/sdb: 10.7 GB, 10737418240 bytes, 20971520 sectorsUnits = sectors of 1 * 512 = 512 bytesSector size (logical/physical): 512 bytes / 512 bytesI/O size (minimum/optimal): 512 bytes / 512 bytesDisk label type: dosDisk identifier: 0xdd460f12 Device Boot Start End Blocks Id System/dev/sdb1 2048 4196351 2097152 8e Linux LVM/dev/sdb2 4196352 8390655 2097152 8e Linux LVM åˆ›å»ºPV[root@server_1 ~]# pvcreate /dev/sdb1 /dev/sdb212Physical volume &quot;/dev/sdb1&quot; successfully createdPhysical volume &quot;/dev/sdb2&quot; successfully created [root@server_1 ~]# pvdisplay123456789101112131415161718192021--- Physical volume ---PV Name /dev/sdb1VG Name testPV Size 2.00 GiB / not usable 4.00 MiBAllocatable yesPE Size 4.00 MiBTotal PE 511Free PE 511Allocated PE 0PV UUID I5YIQU-fS4b-4Cur-7fkK-PfxI-R80x-r3LIIk--- Physical volume ---PV Name /dev/sdb2VG Name testPV Size 2.00 GiB / not usable 4.00 MiBAllocatable yesPE Size 4.00 MiBTotal PE 511Free PE 511Allocated PE 0PV UUID CeJ8Ye-Lnva-X3Nz-Ffa8-7PJl-626O-15sw2j å°†æ‰“æ ‡ç­¾çš„åˆ†åŒºç»„æˆå·ç»„_VG[root@server_1 ~]# vgcreate test /dev/sdb1 /dev/sdb21Volume group &quot;test&quot; successfully created [root@server_1 ~]# vgdisplay1234567891011121314151617181920--- Volume group ---VG Name testSystem IDFormat lvm2Metadata Areas 2Metadata Sequence No 1VG Access read/writeVG Status resizableMAX LV 0Cur LV 0Open LV 0Max PV 0Cur PV 2Act PV 2VG Size 3.99 GiBPE Size 4.00 MiBTotal PE 1022Alloc PE / Size 0 / 0Free PE / Size 1022 / 3.99 GiBVG UUID 6evqe0-rXfQ-oaxd-wAcl-37fA-E3xV-PcteLP ä»Žå·ç»„åˆ†éš”ç©ºé—´ç»„æˆé€»è¾‘å·_LVä»Žå·ç»„testä¸­åˆ’åˆ†å¤§å°ä¸º100ä¸ªPEï¼ˆPEé»˜è®¤å¤§å°ï¼”MBï¼‰å‘½åä¸ºtestlv1[root@server_1 ~]# lvcreate -n testlv1 -l 100 /dev/test1Logical volume &quot;testlv1&quot; created. ä»Žå·ç»„testä¸­åˆ’åˆ†å¤§å°ä¸º1G å‘½åä¸ºtestlv2[root@server_1 ~]# lvcreate -n testlv2 -L 1G /dev/test1Logical volume &quot;testlv2&quot; created. [root@server_1 ~]# lvdisplay123456789101112131415161718192021222324252627282930313233--- Logical volume ---LV Path /dev/test/testlv1LV Name testlv1VG Name testLV UUID RslhqC-IjYT-xSum-zRXn-sCdN-l5YK-CcKS9YLV Write Access read/writeLV Creation host, time server_1, 2019-05-11 16:34:50 +0800LV Status available# open 0LV Size 400.00 MiBCurrent LE 100Segments 1Allocation inheritRead ahead sectors auto- currently set to 8192Block device 253:0--- Logical volume ---LV Path /dev/test/testlv2LV Name testlv2VG Name testLV UUID B8klrN-Kvvj-UWdD-MIdy-hnPo-ewcT-o1QZ3LLV Write Access read/writeLV Creation host, time server_1, 2019-05-11 16:35:49 +0800LV Status available# open 0LV Size 1.00 GiBCurrent LE 256Segments 1Allocation inheritRead ahead sectors auto- currently set to 8192Block device 253:1 æ ¼å¼åŒ–å¹¶æŒ‚è½½[root@server_1 ~]# mkfs.ext4 /dev/test/testlv11234567891011121314151617181920mke2fs 1.42.9 (28-Dec-2013)Filesystem label=OS type: LinuxBlock size=1024 (log=0)Fragment size=1024 (log=0)Stride=0 blocks, Stripe width=0 blocks102400 inodes, 409600 blocks20480 blocks (5.00%) reserved for the super userFirst data block=1Maximum filesystem blocks=3407872050 block groups8192 blocks per group, 8192 fragments per group2048 inodes per groupSuperblock backups stored on blocks: 8193, 24577, 40961, 57345, 73729, 204801, 221185, 401409Allocating group tables: doneWriting inode tables: doneCreating journal (8192 blocks): doneWriting superblocks and filesystem accounting information: done [root@server_1 ~]# mkdir /testlv1[root@server_1 ~]# mount /dev/test/testlv1 /testlv1/[root@server_1 ~]# df -Th12Filesystem Type Size Used Avail Use% Mounted on/dev/mapper/test-testlv1 ext4 380M 2.3M 354M 1% /testlv1 æ‰©å±•lvåŠ 100ä¸ªPE[root@server_1 ~]# lvextend -l +100 /dev/test/testlv112Size of logical volume test/testlv1 changed from 400.00 MiB (100 extents) to 800.00 MiB (200 extents).Logical volume testlv1 successfully resized. åŠ 200M[root@server_1 ~]# lvextend -L +200M /dev/test/testlv112Size of logical volume test/testlv1 changed from 800.00 MiB (200 extents) to 1000.00 MiB (250 extents).Logical volume testlv1 successfully resized. æŒ‡å®šå¤§å°2G[root@server_1 ~]# lvextend -L 2G /dev/test/testlv112Size of logical volume test/testlv1 changed from 1000.00 MiB (250 extents) to 2.00 GiB (512 extents).Logical volume testlv1 successfully resized. é‡æ–°è¯»å–[root@server_1 ~]# resize2fs -p /dev/test/testlv11234resize2fs 1.42.9 (28-Dec-2013)Filesystem at /dev/test/testlv1 is mounted on /testlv1; on-line resizing requiredold_desc_blocks = 4, new_desc_blocks = 16The filesystem on /dev/test/testlv1 is now 2097152 blocks long. [root@server_1 ~]# df -Th12Filesystem Type Size Used Avail Use% Mounted on/dev/mapper/test-testlv1 ext4 2.0G 2.9M 1.9G 1% /testlv1 ç¼©å‡lvå‡å°é€»è¾‘å·å¯èƒ½é€ æˆæ•°æ®æŸå[root@server_1 ~]# umount /testlv1/[root@server_1 ~]# e2fsck -f /dev/test/testlv11234567e2fsck 1.42.9 (28-Dec-2013)Pass 1: Checking inodes, blocks, and sizesPass 2: Checking directory structurePass 3: Checking directory connectivityPass 4: Checking reference countsPass 5: Checking group summary information/dev/test/testlv1: 11/524288 files (0.0% non-contiguous), 77387/2097152 blocks [root@server_1 ~]# resize2fs -p /dev/test/testlv1 1G12345resize2fs 1.42.9 (28-Dec-2013)Resizing the filesystem on /dev/test/testlv1 to 1048576 (1k) blocks.Begin pass 3 (max = 256)Scanning inode table XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXThe filesystem on /dev/test/testlv1 is now 1048576 blocks long. [root@server_1 ~]# lvreduce -L 1G /dev/test/testlv112345 WARNING: Reducing active logical volume to 1.00 GiB THIS MAY DESTROY YOUR DATA (filesystem etc.)Do you really want to reduce testlv1? [y/n]: y Size of logical volume test/testlv1 changed from 2.00 GiB (512 extents) to 1.00 GiB (256 extents). Logical volume testlv1 successfully resized. [root@server_1 ~]# mount /dev/test/testlv1 /testlv1/[root@server_1 ~]# df -Th12Filesystem Type Size Used Avail Use% Mounted on/dev/mapper/test-testlv1 ext4 984M 2.8M 934M 1% /testlv1 ç§»é™¤é€»è¾‘å·[root@server_1 ~]# umount /testlv1/[root@server_1 ~]# lvremove /dev/test/testlv112Do you really want to remove active logical volume testlv1? [y/n]: y Logical volume &quot;testlv1&quot; successfully removed [root@server_1 ~]# vgremove test1234Do you really want to remove volume group &quot;test&quot; containing 1 logical volumes? [y/n]: yDo you really want to remove active logical volume testlv2? [y/n]: y Logical volume &quot;testlv2&quot; successfully removed Volume group &quot;test&quot; successfully removed [root@server_1 ~]# pvremove /dev/sdb1 /dev/sdb212Labels on physical volume &quot;/dev/sdb1&quot; successfully wipedLabels on physical volume &quot;/dev/sdb2&quot; successfully wiped å°†dev/sdb1 /dev/sdb2æ”¹å›žæ ‡ç­¾83[root@server_1 ~]# fdisk -l12345678910Disk /dev/sdb: 10.7 GB, 10737418240 bytes, 20971520 sectorsUnits = sectors of 1 * 512 = 512 bytesSector size (logical/physical): 512 bytes / 512 bytesI/O size (minimum/optimal): 512 bytes / 512 bytesDisk label type: dosDisk identifier: 0xdd460f12 Device Boot Start End Blocks Id System/dev/sdb1 2048 4196351 2097152 83 Linux/dev/sdb2 4196352 8390655 2097152 83 Linux]]></content>
      <categories>
        <category>RHCE</category>
      </categories>
      <tags>
        <tag>RHCE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨nmcliè®¾ç½®ç½‘ç»œ]]></title>
    <url>%2Fpost%2Fd2e19130.html</url>
    <content type="text"><![CDATA[ä½¿ç”¨nmcliè®¾ç½®ç½‘å¡ï¼Œé“¾è·¯èšåˆï¼Œç½‘æ¡¥ ç»™æ–°æ·»åŠ çš„ç½‘å¡é…ç½®IPåœ°å€çŽ°æœ‰æ–°æ·»åŠ çš„ä¸¤å¼ ç½‘å¡eno33554992å’Œeno50332216 åœ¨server1ä¸Šä½¿ç”¨nmcli[root@server_1 network-scripts]# nmcli connection add con-name eth1 type ethernet ifname eno33554992 ip4 192.168.19.102/24 gw4 192.168.19.1Connection â€˜eth1â€™ (8099abb8-2a30-4d11-a3ae-ce4c5c534d8b) successfully added.[root@server_1 network-scripts]# nmcli connection add con-name eth2 type ethernet ifname eno50332216 ip4 192.168.19.103/24 gw4 192.168.19.1Connection â€˜eth2â€™ (f127ca55-37d3-4913-8b62-1969ceabaacd) successfully added.[root@server_1 network-scripts]# ip addr1234567891011121314151617182: eno16777736: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP qlen 1000 link/ether 00:0c:29:1c:2a:5b brd ff:ff:ff:ff:ff:ff inet 192.168.19.101/24 brd 192.168.19.255 scope global eno16777736 valid_lft forever preferred_lft forever inet6 fe80::20c:29ff:fe1c:2a5b/64 scope link valid_lft forever preferred_lft forever3: eno33554992: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP qlen 1000 link/ether 00:0c:29:1c:2a:65 brd ff:ff:ff:ff:ff:ff inet 192.168.19.102/24 brd 192.168.19.255 scope global eno33554992 valid_lft forever preferred_lft forever inet6 fe80::20c:29ff:fe1c:2a65/64 scope link valid_lft forever preferred_lft forever4: eno50332216: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP qlen 1000 link/ether 00:0c:29:1c:2a:6f brd ff:ff:ff:ff:ff:ff inet 192.168.19.103/24 brd 192.168.19.255 scope global eno50332216 valid_lft forever preferred_lft forever inet6 fe80::20c:29ff:fe1c:2a6f/64 scope link valid_lft forever preferred_lft forever åˆ é™¤ä½¿ç”¨nmcli con delete eth1 åœ¨server2ä¸Šæ‰‹å·¥å†™é…ç½®æ–‡ä»¶[root@server_2 ~]# cd /etc/sysconfig/network-scripts/[root@server_2 network-scripts]# vim ifcfg-eth11234567NAME=eth1DEVICE=eno33554992ONBOOT=yesBOOTPROTO=noneIPADDR=192.168.19.202PREFIX=24GATEWAY=192.168.19.1 [root@server_2 network-scripts]# vim ifcfg-eth21234567NAME=eth2DEVICE=eno50332216ONBOOT=yesBOOTPROTO=noneIPADDR=192.168.19.203PREFIX=24GATEWAY=192.168.19.1 [root@server_2 network-scripts]# systemctl restart network[root@server_2 network-scripts]# ip addr1234567891011121314151617182: eno16777736: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP qlen 1000 link/ether 00:0c:29:36:ce:06 brd ff:ff:ff:ff:ff:ff inet 192.168.19.201/24 brd 192.168.19.255 scope global eno16777736 valid_lft forever preferred_lft forever inet6 fe80::20c:29ff:fe36:ce06/64 scope link valid_lft forever preferred_lft forever3: eno33554992: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP qlen 1000 link/ether 00:0c:29:36:ce:10 brd ff:ff:ff:ff:ff:ff inet 192.168.19.202/24 brd 192.168.19.255 scope global eno33554992 valid_lft forever preferred_lft forever inet6 fe80::20c:29ff:fe36:ce10/64 scope link valid_lft forever preferred_lft forever4: eno50332216: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP qlen 1000 link/ether 00:0c:29:36:ce:1a brd ff:ff:ff:ff:ff:ff inet 192.168.19.203/24 brd 192.168.19.255 scope global eno50332216 valid_lft forever preferred_lft forever inet6 fe80::20c:29ff:fe36:ce1a/64 scope link valid_lft forever preferred_lft forever [root@server_2 network-scripts]# ping 192.168.19.1021234567PING 192.168.19.102 (192.168.19.102) 56(84) bytes of data.64 bytes from 192.168.19.102: icmp_seq=1 ttl=64 time=0.665 ms64 bytes from 192.168.19.102: icmp_seq=2 ttl=64 time=0.377 ms^C--- 192.168.19.102 ping statistics ---2 packets transmitted, 2 received, 0% packet loss, time 1001msrtt min/avg/max/mdev = 0.377/0.521/0.665/0.144 ms ä¸€å¼ ç½‘å¡é…ç½®å¤šä¸ªIPåœ°å€[root@server_1 network-scripts]# nmcli connection modify eth1 +ipv4.addresses 192.168.20.2/24[root@server_1 network-scripts]# systemctl restart network[root@server_2 network-scripts]# nmcli connection modify eth1 +ipv4.addresses 192.168.20.4/24[root@server_2 network-scripts]# systemctl restart network[root@server_2 network-scripts]# ping 192.168.20.2 -I 192.168.20.4123456789PING 192.168.20.2 (192.168.20.2) from 192.168.20.4 : 56(84) bytes of data.64 bytes from 192.168.20.2: icmp_seq=1 ttl=64 time=0.577 ms64 bytes from 192.168.20.2: icmp_seq=2 ttl=64 time=0.461 ms64 bytes from 192.168.20.2: icmp_seq=3 ttl=64 time=0.442 ms64 bytes from 192.168.20.2: icmp_seq=4 ttl=64 time=0.463 ms^C--- 192.168.20.2 ping statistics ---4 packets transmitted, 4 received, 0% packet loss, time 3001msrtt min/avg/max/mdev = 0.442/0.485/0.577/0.059 ms é“¾è·¯èšåˆå°†æ–°çš„ä¸¤å¼ ç½‘å¡èšåˆä¸ºä¸€ä¸ªteam server1ä½¿ç”¨nmcliåˆ é™¤ä¹‹å‰çš„é…ç½®çš„ä¸¤å¼ ç½‘å¡[root@server_1 network-scripts]# nmcli connection delete eth1Connection â€˜eth1â€™ (8099abb8-2a30-4d11-a3ae-ce4c5c534d8b) successfully deleted.[root@server_1 network-scripts]# nmcli connection delete eth2Connection â€˜eth2â€™ (f127ca55-37d3-4913-8b62-1969ceabaacd) successfully deleted.[root@server_1 network-scripts]# nmcli connection add con-name team0 ifname team0 type team config &#39;{&quot;runner&quot;: {&quot;name&quot;: &quot;loadbalance&quot;}}&#39;Connection â€˜team0â€™ (72a24350-f7fb-4909-b8d9-b0e4d63d4a3b) successfully added.[root@server_1 network-scripts]# nmcli connection modify team0 ipv4.addresses 192.168.19.102/24 ipv4.gateway 192.168.19.1 ipv4.method manual[root@server_1 network-scripts]# nmcli connection add con-name team0-port1 type team-slave ifname eno33554992 master team0Connection â€˜team0-port1â€™ (be929ed1-410a-4f40-ac94-1f12b7c0322a) successfully added.[root@server_1 network-scripts]# nmcli connection add con-name team0-port2 type team-slave ifname eno50332216 master team0Connection â€˜team0-port2â€™ (13972926-e23a-48aa-9e9f-c72e59300942) successfully added.[root@server_1 network-scripts]# nmcli connection up team0-port1Connection successfully activated (D-Bus active path: /org/freedesktop/NetworkManager/ActiveConnection/14)[root@server_1 network-scripts]# nmcli connection show --active1234NAME UUID TYPE DEVICEteam0-port1 be929ed1-410a-4f40-ac94-1f12b7c0322a 802-3-ethernet eno33554992team0 72a24350-f7fb-4909-b8d9-b0e4d63d4a3b team team0team0-port2 13972926-e23a-48aa-9e9f-c72e59300942 802-3-ethernet eno50332216 server2æ‰‹å·¥å†™é…ç½®æ–‡ä»¶åˆ é™¤ä¹‹å‰çš„é…ç½®çš„ä¸¤å¼ ç½‘å¡[root@server_2 network-scripts]# nmcli connection delete eth1Connection â€˜eth1â€™ (8099abb8-2a30-4d11-a3ae-ce4c5c534d8b) successfully deleted.[root@server_2 network-scripts]# nmcli connection delete eth2Connection â€˜eth2â€™ (f127ca55-37d3-4913-8b62-1969ceabaacd) successfully deleted.[root@server_2 network-scripts]# vim ifcfg-team0123456789DEVICE=team0NAME=team0DEVICETYPE=TeamTEAM_CONFIG="&#123;\"runner\": &#123;\"name\": \"activebackup\"&#125;&#125;"BOOTPROTO=noneONBOOT=yesIPADDR=192.168.19.202PREFIX=24GATEWAY=192.168.19.1 [root@server_2 network-scripts]# vim ifcfg-team0-port112345NAME=team0-port1DEVICE=eno33554992ONBOOT=yesTEAM_MASTER=team0DEVICETYPE=TeamPort [root@server_2 network-scripts]# vim ifcfg-team0-port212345NAME=team0-port2DEVICE=eno50332216ONBOOT=yesTEAM_MASTER=team0DEVICETYPE=TeamPort [root@server_2 network-scripts]# systemctl restart network[root@server_2 network-scripts]# ip addr1234568: team0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP link/ether 00:0c:29:36:ce:1a brd ff:ff:ff:ff:ff:ff inet 192.168.19.202/24 brd 192.168.19.255 scope global team0 valid_lft forever preferred_lft forever inet6 fe80::20c:29ff:fe36:ce1a/64 scope link valid_lft forever preferred_lft forever [root@server_2 network-scripts]# nmcli connection show --active1234NAME UUID TYPE DEVICEteam0-port2 131891f6-d45a-42f7-0f6d-877668e7a054 802-3-ethernet eno50332216team0-port1 52c7a66a-0fc6-dec3-3c0f-652871d89b75 802-3-ethernet eno33554992team0 702de3eb-2e80-897c-fd52-cd0494dd8123 team team0 [root@server_2 network-scripts]# ping 192.168.19.102 -I team012345678PING 192.168.19.102 (192.168.19.102) from 192.168.19.202 team0: 56(84) bytes of data.64 bytes from 192.168.19.102: icmp_seq=10 ttl=64 time=0.776 ms64 bytes from 192.168.19.102: icmp_seq=11 ttl=64 time=0.413 ms64 bytes from 192.168.19.102: icmp_seq=12 ttl=64 time=0.424 ms^C--- 192.168.19.102 ping statistics ---12 packets transmitted, 3 received, 75% packet loss, time 11001msrtt min/avg/max/mdev = 0.413/0.537/0.776/0.170 ms ç½‘æ¡¥server1ä½¿ç”¨nmcli[root@server_1 ~]# nmcli connection delete team0Connection â€˜team0â€™ (72a24350-f7fb-4909-b8d9-b0e4d63d4a3b) successfully deleted.[root@server_1 ~]# nmcli connection delete team0-port1Connection â€˜team0-port1â€™ (be929ed1-410a-4f40-ac94-1f12b7c0322a) successfully deleted.[root@server_1 ~]# nmcli connection delete team0-port2Connection â€˜team0-port2â€™ (13972926-e23a-48aa-9e9f-c72e59300942) successfully deleted.[root@server_1 ~]# nmcli device status123DEVICE TYPE STATE CONNECTIONeno33554992 ethernet disconnected --eno50332216 ethernet disconnected -- [root@server_1 ~]# nmcli connection add con-name br0 ifname br0 type bridgeConnection â€˜br0â€™ (57e1d948-c13c-4b43-a1df-ae15b3dd7bcf) successfully added.[root@server_1 ~]# nmcli connection modify br0 ipv4.addresses 192.168.19.102/24 ipv4.gateway 192.168.19.1 ipv4.method manual[root@server_1 ~]# nmcli connection add con-name br0-port1 ifname eno33554992 type bridge-slave master br0Connection â€˜br0-port1â€™ (48597166-ff58-41ca-adfe-47dac44c5aca) successfully added.[root@server_1 ~]# nmcli connection add con-name br0-port2 ifname eno50332216 type bridge-slave master br0Connection â€˜br0-port2â€™ (85936f31-7db6-431f-a165-e052df484431) successfully added.[root@server_1 ~]# nmcli device status12345DEVICE TYPE STATE CONNECTIONbr0 bridge connected br0eno16777736 ethernet connected eno16777736eno33554992 ethernet connected br0-port1eno50332216 ethernet connected br0-port2 [root@server_1 ~]# ip addr123456789103: eno33554992: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast master br0 state UP qlen 1000 link/ether 00:0c:29:1c:2a:65 brd ff:ff:ff:ff:ff:ff4: eno50332216: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast master br0 state UP qlen 1000 link/ether 00:0c:29:1c:2a:6f brd ff:ff:ff:ff:ff:ff8: br0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP link/ether 00:0c:29:1c:2a:65 brd ff:ff:ff:ff:ff:ff inet 192.168.19.102/24 brd 192.168.19.255 scope global br0 valid_lft forever preferred_lft forever inet6 fe80::20c:29ff:fe1c:2a65/64 scope link valid_lft forever preferred_lft forever server2æ‰‹å·¥å†™é…ç½®æ–‡ä»¶[root@server_2 network-scripts]# nmcli connection delete team0Connection â€˜team0â€™ (702de3eb-2e80-897c-fd52-cd0494dd8123) successfully deleted.[root@server_2 network-scripts]# nmcli connection delete team0-port1Connection â€˜team0-port1â€™ (52c7a66a-0fc6-dec3-3c0f-652871d89b75) successfully deleted.[root@server_2 network-scripts]# nmcli connection delete team0-port2Connection â€˜team0-port2â€™ (131891f6-d45a-42f7-0f6d-877668e7a054) successfully deleted.[root@server_2 network-scripts]# vim ifcfg-br012345678910DEVICE=br0NAME=br0STP=yesTYPE=BridgeBOOTPROTO=noneIPADDR=192.168.19.202PREFIX=24GATEWAY=192.168.19.1ONBOOT=yesBRIDGE_OPTS=priority=32768 [root@server_2 network-scripts]# vim ifcfg-br0-port112345TYPE=EthernetNAME=br0-port1DEVICE=eno33554992ONBOOT=yesBRIDGE=br0 [root@server_2 network-scripts]# vim ifcfg-br0-port212345TYPE=EthernetNAME=br0-port2DEVICE=eno50332216ONBOOT=yesBRIDGE=br0 [root@server_2 network-scripts]# systemctl restart network[root@server_2 network-scripts]# nmcli device status12345DEVICE TYPE STATE CONNECTIONbr0 bridge connected br0eno16777736 ethernet connected eno16777736eno33554992 ethernet connected br0-port1eno50332216 ethernet connected br0-port2 [root@server_2 network-scripts]# ip addr123456783: eno33554992: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast master br0 state UP qlen 1000 link/ether 00:0c:29:36:ce:10 brd ff:ff:ff:ff:ff:ff4: eno50332216: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast master br0 state UP qlen 1000 link/ether 00:0c:29:36:ce:1a brd ff:ff:ff:ff:ff:ff8: br0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc noqueue state DOWN link/ether 00:0c:29:36:ce:10 brd ff:ff:ff:ff:ff:ff inet 192.168.19.202/24 brd 192.168.19.255 scope global br0 valid_lft forever preferred_lft forever [root@server_2 network-scripts]# ping -I br0 192.168.19.102123456789PING 192.168.19.102 (192.168.19.102) from 192.168.19.202 br0: 56(84) bytes of data.64 bytes from 192.168.19.102: icmp_seq=12 ttl=64 time=0.818 ms64 bytes from 192.168.19.102: icmp_seq=13 ttl=64 time=0.441 ms64 bytes from 192.168.19.102: icmp_seq=14 ttl=64 time=0.507 ms64 bytes from 192.168.19.102: icmp_seq=15 ttl=64 time=0.444 ms^C--- 192.168.19.102 ping statistics ---15 packets transmitted, 4 received, 73% packet loss, time 14006msrtt min/avg/max/mdev = 0.441/0.552/0.818/0.157 ms ç»¼åˆå®žéªŒï¼šä¸¤å¼ ç½‘å¡é“¾è·¯èšåˆï¼Œåœ¨å’Œç¬¬ä¸‰å¼ ç½‘å¡ç»„æˆç½‘æ¡¥é…ç½®team0[root@server_1 ~]# nmcli connection add con-name team0 ifname team0 type team config &#39;{&quot;runner&quot;: {&quot;name&quot;: &quot;loadbalance&quot;}}&#39;Connection â€˜team0â€™ (9c635d95-312d-4369-a0d3-18c122468437) successfully added.[root@server_1 ~]# nmcli connection add con-name team0-port1 ifname eno33554992 type team-slave master team0Connection â€˜team0-port1â€™ (2098e51e-d30c-4343-be2e-c252fe413187) successfully added.[root@server_1 ~]# nmcli connection add con-name team0-port2 ifname eno50332216 type team-slave master team0Connection â€˜team0-port2â€™ (f484116a-7009-4154-88de-342395af8949) successfully added.[root@server_1 ~]# teamdctl team0 state1234567891011121314151617setup: runner: loadbalanceports: eno33554992 link watches: link summary: up instance[link_watch_0]: name: ethtool link: up down count: 0 eno50332216 link watches: link summary: up instance[link_watch_0]: name: ethtool link: up down count: 0 åœæ­¢team0ï¼Œåœæ­¢NetworkManager[root@server_1 ~]# nmcli device disconnect team0Device â€˜team0â€™ successfully disconnected.[root@server_1 ~]# systemctl stop NetworkManager[root@server_1 ~]# systemctl disable NetworkManager123Removed symlink /etc/systemd/system/multi-user.target.wants/NetworkManager.service.Removed symlink /etc/systemd/system/dbus-org.freedesktop.NetworkManager.service.Removed symlink /etc/systemd/system/dbus-org.freedesktop.nm-dispatcher.service. é…ç½®br0[root@server_1 ~]# cd /etc/sysconfig/network-scripts/[root@server_1 network-scripts]# ll | grep ifcfg12345-rw-r--r--. 1 root root 314 May 7 23:49 ifcfg-eno16777736-rw-r--r--. 1 root root 254 Sep 16 2015 ifcfg-lo-rw-r--r--. 1 root root 334 May 11 14:32 ifcfg-team0-rw-r--r--. 1 root root 127 May 11 14:32 ifcfg-team0-port1-rw-r--r--. 1 root root 127 May 11 14:33 ifcfg-team0-port2 å°†team0æ·»åŠ åˆ°br0[root@server_1 network-scripts]# vim ifcfg-team0åˆ é™¤å¤šä½™é…ç½®ï¼Œå¢žåŠ BRIDGEå˜é‡ç­‰äºŽbr01234567DEVICE=team0TEAM_CONFIG="&#123;\"runner\": &#123;\"name\": \"loadbalance\"&#125;&#125;"DEVICETYPE=TeamNAME=team0UUID=0f896254-6965-4f0f-ab28-e2c2fa1cb3deONBOOT=yesBRIDGE=br0 é…ç½®br0[root@server_1 network-scripts]# vim ifcfg-br0123456NAME=br0DEVICE=br0ONBOOT=yesTYPE=BridgeIPADDR=192.168.19.102PREFIC=24 é‡å¯network[root@server_1 network-scripts]# systemctl restart network æµ‹è¯•[root@server_2 ~]# ping 192.168.19.1021234567PING 192.168.19.102 (192.168.19.102) 56(84) bytes of data.64 bytes from 192.168.19.102: icmp_seq=1 ttl=64 time=0.854 ms64 bytes from 192.168.19.102: icmp_seq=2 ttl=64 time=0.538 ms^C--- 192.168.19.102 ping statistics ---2 packets transmitted, 2 received, 0% packet loss, time 1000msrtt min/avg/max/mdev = 0.538/0.696/0.854/0.158 ms]]></content>
      <categories>
        <category>RHCE</category>
      </categories>
      <tags>
        <tag>RHCE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ISCSIæœåŠ¡çš„æ­å»º]]></title>
    <url>%2Fpost%2F3125c0a4.html</url>
    <content type="text"><![CDATA[ISCSIæœåŠ¡çš„æ­å»º å‡†å¤‡ä¸€ä¸ªå¯ç”¨çš„åˆ†åŒº[root@server_1 ~]# lsblk12345678NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINTsda 8:0 0 20G 0 diskâ”œâ”€sda1 8:1 0 200M 0 part /bootâ”œâ”€sda2 8:2 0 10G 0 part /â”œâ”€sda3 8:3 0 2G 0 part [SWAP]â”œâ”€sda4 8:4 0 512B 0 partâ””â”€sda5 8:5 0 1G 0 partsr0 11:0 1 3.8G 0 rom /mnt è¿™é‡Œæˆ‘å‡†å¤‡äº†sda5ç”¨ä½œiSCSIçš„æŒ‚è½½ å®‰è£…è½¯ä»¶[root@server_1 ~]# yum install targetcli -y é…ç½®[root@server_1 ~]# targetcli123456789/&gt; lso- / .................................................. [...] o- backstores ....................................... [...] | o- block ........................... [Storage Objects: 0] | o- fileio .......................... [Storage Objects: 0] | o- pscsi ........................... [Storage Objects: 0] | o- ramdisk ......................... [Storage Objects: 0] o- iscsi ..................................... [Targets: 0] o- loopback .................................. [Targets: 0] åˆ›å»ºå—è®¾å¤‡block/&gt; cd /backstores/block/backstores/block&gt; create block1 /dev/sda5Created block storage object block1 using /dev/sda5. åˆ›å»ºiqn/backstores/block&gt; cd /iscsi/iscsi&gt; create iqn.2019-04.example.com:server 1234Created target iqn.2019-04.example.com:server.Created TPG 1.Global pref auto_add_default_portal=trueCreated default portal listening on all IPs (0.0.0.0), port 3260. é…ç½®è®¿é—®æŽ§åˆ¶åˆ—è¡¨/iscsi&gt; cd iqn.2019-04.example.com:server/tpg1/acls/iscsi/iqn.20...ver/tpg1/acls&gt; create iqn.2019-04.example.com:desktopCreated Node ACL for iqn.2019-04.example.com:desktop æ·»åŠ luns/iscsi/iqn.20...ver/tpg1/acls&gt; cd ../iscsi/iqn.20...m:server/tpg1&gt; cd luns/iscsi/iqn.20...ver/tpg1/luns&gt; create /backstores/block/block1Created LUN 0.Created LUN 0-&gt;0 mapping in node ACL iqn.2019-04.example.com:desktop åˆ›å»ºportalæŽ¥å£/iscsi/iqn.20...ver/tpg1/luns&gt; cd ../iscsi/iqn.20...m:server/tpg1&gt; cd portals//iscsi/iqn.20.../tpg1/portals&gt; delete 0.0.0.0 3260Deleted network portal 0.0.0.0:3260/iscsi/iqn.20.../tpg1/portals&gt; create 192.168.19.101 3260Using default IP port 3260Created network portal 192.168.19.101:3260. æŸ¥çœ‹é…ç½®/iscsi/iqn.20.../tpg1/portals&gt; cd 1234567891011121314151617o- / ..................................................[... o- backstores .......................................[... | o- block ...........................[Storage Objects: 1 | | o- block1 ...[/dev/sda5 (1.0GiB) write-thru activated | o- fileio ..........................[Storage Objects: 0 | o- pscsi ...........................[Storage Objects: 0 | o- ramdisk .........................[Storage Objects: 0 o- iscsi .....................................[Targets: 1 | o- iqn.2019-04.example.com:server .............[TPGs: 1 | o- tpg1 ........................[no-gen-acls, no-auth | o- acls ...................................[ACLs: 1 | | o- iqn.2019-04.example.com:desktop [Mapped LUNs: 1 | | o- mapped_lun0 .........[lun0 block/block1 (rw) | o- luns ...................................[LUNs: 1 | | o- lun0 ................[block/block1 (/dev/sda5) | o- portals .............................[Portals: 1 | o- 192.168.19.101:3260 .......................[OK o- loopback ..................................[Targets: 0 é€€å‡ºä¿å­˜/iscsi/iqn.20.../tpg1/portals&gt; exit 123Global pref auto_save_on_exit=trueLast 10 configs saved in /etc/target/backup.Configuration saved to /etc/target/saveconfig.json é…ç½®é˜²ç«å¢™[root@server_1 ~]# firewall-cmd --add-port=3260/tcp --persuccess[root@server_1 ~]# systemctl restart firewalld[root@server_1 ~]# systemctl restart target[root@server_1 ~]# systemctl enable targetCreated symlink from /etc/systemd/system/multi-user.target.wants/target.service to /usr/lib/systemd/system/target.service. å®¢æˆ·ç«¯æµ‹è¯• å®‰è£…è½¯ä»¶[root@server_2 ~]# yum install iscsi-initiator-utils.i686 -y[root@server_2 ~]# vim /etc/iscsi/initiatorname.iscsi 1InitiatorName=iqn.2019-04.example.com:desktop é‡å¯æœåŠ¡[root@server_2 ~]# systemctl daemon-reload[root@server_2 ~]# systemctl restart iscsi å‘çŽ°èŠ‚ç‚¹[root@server_2 ~]# iscsiadm -m discovery -t st -p 192.168.19.101192.168.19.11:3260,1 iqn.2019-04.example.com:server ç™»å…¥èŠ‚ç‚¹[root@server_2 ~]# iscsiadm -m node -T iqn.2019-04.example.com:server -p 192.168.19.101:3260 -l 12Logging in to [iface: default, target: iqn.2019-04.example.com:server, portal: 192.168.19.11,3260] (multiple)Login to [iface: default, target: iqn.2019-04.example.com:server, portal: 192.168.19.11,3260] successful. æŸ¥çœ‹æŒ‚è½½çš„èŠ‚ç‚¹åˆ†åŒºå¹¶æ ¼å¼åŒ–åˆ†åŒº[root@server_2 ~]# fdisk /dev/sdb[root@server_2 ~]# mkfs.ext4 /dev/sdb1[root@server_2 ~]# fdisk -l 123456789Disk /dev/sdb: 1073 MB, 1073741824 bytes, 2097152 sectorsUnits = sectors of 1 * 512 = 512 bytesSector size (logical/physical): 512 bytes / 512 bytesI/O size (minimum/optimal): 512 bytes / 4194304 bytesDisk label type: dosDisk identifier: 0x86f45fd8 Device Boot Start End Blocks Id System/dev/sdb1 8192 2097151 1044480 83 Linux æŸ¥çœ‹å’ŒåŒºåˆ†[root@server_2 ~]# ll /dev/disk/by-path/ 123total 0lrwxrwxrwx. 1 root root 9 Apr 28 22:00 ip-192.168.19.101:3260-iscsi-iqn.2019-04.example.com:server-lun-0 -&gt; ../../sdblrwxrwxrwx. 1 root root 10 Apr 28 22:03 ip-192.168.19.101:3260-iscsi-iqn.2019-04.example.com:server-lun-0-part1 -&gt; ../../sdb1 æŒ‚è½½å¯¹åº”çš„åˆ†åŒº[root@server_2 ~]# mkdir /iqn[root@server_2 ~]# blkid /dev/sdb1/dev/sdb1: UUID=â€feb53194-cefe-42d7-b721-1b95d3d04158â€ TYPE=â€ext4â€[root@server_2 ~]# vim /etc/fstab 1UUID=feb53194-cefe-42d7-b721-1b95d3d04158 /iqn ext4 defaults,_netdev 0 0 [root@server_2 ~]# mount -a [root@server_2 ~]# df -Th | grep sdb1 /dev/sdb1 ext4 988M 2.6M 919M 1% /iqnç™»å‡ºèŠ‚ç‚¹[root@test_2 ~]# umount /iqn[root@test_2 ~]# iscsiadm -m node -T iqn.2019-04.example.com:server -p 192.168.19.101 -u]]></content>
      <categories>
        <category>RHCE</category>
      </categories>
      <tags>
        <tag>RHCE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SambaæœåŠ¡çš„æ­å»º]]></title>
    <url>%2Fpost%2F5997ae1f.html</url>
    <content type="text"><![CDATA[SambaæœåŠ¡çš„æ­å»º è¦æ±‚å…±äº«/sambashareå±žäºŽmarketingç»„çš„ç”¨æˆ·robæœ‰è®¿é—®æƒé™ä¸å±žäºŽmarketingç»„çš„ç”¨æˆ·brianæ²¡æœ‰è®¿é—®æƒé™[root@server_1 ~]# groupadd -r marketing[root@server_1 ~]# useradd -s /sbin/nologin -G marketing rob[root@server_1 ~]# useradd -s /sbin/nologin brian[root@server_1 ~]# mkdir /sambashare[root@server_1 ~]# chgrp marketing /sambashare[root@server_1 ~]# chmod 2775 /sambashare å®‰è£…è½¯ä»¶åŒ…[root@server_1 ~]# yum install samba\* -y ä¿®æ”¹é…ç½®æ–‡ä»¶[root@server_1 ~]# vim /etc/samba/smb.conf1234[sambashare] path = /sambashare writeable = no write list = @marketing [root@server_1 ~]# smbpasswd -a biran[root@server_1 ~]# smbpasswd -a rob é…ç½®selinux[root@server_1 ~]# semanage fcontent -a -t samba_share_t /sambashare&quot;(/.*)?&quot;[root@server_1 ~]# restorecon -vvFR /sambashare è®¾ç½®é˜²ç«å¢™[root@server_1 ~]# systemctl restart smb nmb[root@server_1 ~]# systemctl enable smb nmb[root@server_1 ~]# firewall-cmd --add-service=samba --per[root@server_1 ~]# systemctl restart firewalld å®¢æˆ·ç«¯æµ‹è¯•[root@server_2 ~]# yum install cifs-utils.x86_64 -y[root@server_2 ~]# mkdir /sambashare_rob /sambashare_brianä¸´æ—¶æŒ‚è½½[root@server_2 ~]# mount -o username=rob,password=redaht //192.168.19.101/sambashare /sambashare_rob[root@server_2 ~]# mount -o username=brian,password=redhat //192.168.19.101/sambashare /sambashare_brianæ°¸ä¹…æŒ‚è½½[root@server_2 ~]# vim /etc/fstab1//192.168.19.101/sambashare /sambashare_rob cifs defaults,multiuser,username=rob,password=redhat,sec=ntlmssp,_netdev 0 0 [root@server_2 ~]# mount -a[root@server_2 ~]# touch /sambashare_rob/test[root@server_2 ~]# touch /sambashare_brian/testtouch: cannot touch â€˜/sambashare_brian/testâ€™: Permission denied è¦æ±‚2è¦æ±‚test1ç”¨æˆ·å’Œtest2ç”¨æˆ·å¯ä»¥æŒ‚è½½åªå…è®¸test1ç”¨æˆ·[root@server_1 ~]# useradd -s /sbin/nologin test1[root@server_1 ~]# useradd -s /sbin/nologin test2[root@server_1 ~]# chmod o+w /sambashare ä¿®æ”¹é…ç½®æ–‡ä»¶[root@server_1 ~]# vim /etc/samba/smb.conf1write list = test1 [root@server_1 ~]# smbpasswd -a test1[root@server_1 ~]# smbpasswd -a test2[root@server_1 ~]# systemctl restart smb nmb å®¢æˆ·ç«¯æµ‹è¯•[root@server_2 /]# useradd test1[root@server_2 /]# useradd test2[root@server_2 /]# mkdir /test[root@server_2 ~]# vim /etc/fstab1//192.168.19.101/sambashare /test cifs defaults,multiuser,username=test1,password=redhat,sec=ntlmssp,_netdev 0 0 [root@server_2 ~]# mount -a[root@server_2 /]# su - test1[test1@server_2 ~]$ cd /test[test1@server_2 test]$ touch xxtouch: cannot touch â€˜/test/xxâ€™: Permission denied[test1@server_2 test]$ cifscreds 192.168.19.101[test1@server_2 test]$ touch xx[root@server_2 /]# su - test2[test2@server_2 ~]$ cd /test[test2@server_2 test]$ touch xxtouch: cannot touch â€˜/test/xxâ€™: Permission denied]]></content>
      <categories>
        <category>RHCE</category>
      </categories>
      <tags>
        <tag>RHCE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[NFSæœåŠ¡çš„æ­å»º]]></title>
    <url>%2Fpost%2F6b73b6a5.html</url>
    <content type="text"><![CDATA[NFSæœåŠ¡çš„æ­å»º è¦æ±‚å…±äº«/publicå’Œ/protectedä¸¤ä¸ªç›®å½•è¦æ±‚publicç›®å½•ä»»ä½•äººéƒ½å¯ä»¥è®¿é—®ä¸”åªæœ‰roæƒé™è¦æ±‚protectedç›®å½•åªæœ‰192.168.19.0ç½‘æ®µå¯ä»¥è®¿é—®ä¸”æ‹¥æœ‰rwæƒé™[root@server_1 /]# mkdir /public/ /protected/[root@server_1 /]# echo this is nfs test &gt; /public/testæµ‹è¯•ç»“æžœåº”è¯¥ä¸º å®¢æˆ·ç«¯æŒ‚è½½åˆ°çš„publicç›®å½•åªå¯ä»¥æŸ¥çœ‹testæ–‡ä»¶è€Œä¸èƒ½touchæ–‡ä»¶å®¢æˆ·ç«¯æŒ‚è½½åˆ°çš„protectedç›®å½•å¯ä»¥touchæ–‡ä»¶ å®‰è£…è½¯ä»¶åŒ…[root@server_1 /]# yum install nfs\* -y ç¼–è¾‘é…ç½®æ–‡ä»¶[root@server_1 /]# vim /etc/exports12/public *(ro) //å…è®¸æ‰€æœ‰ç”¨æˆ·åªæœ‰åªè¯»æƒé™/protected 192.168.19.0/24(rw,no_root_squash,sync) [root@server_1 /]# exprotfs -r //æ¯æ¬¡ä¿®æ”¹é…ç½®æ–‡ä»¶æˆ–æ·»åŠ å…±äº«æ–‡ä»¶éƒ½è¦æ‰§è¡Œ[root@test_1 ~]# showmount -e localhost//æŸ¥çœ‹é…ç½®123Export list for localhost:/public */protected 192.168.19.0/24 é…ç½®selinux[root@server_1 /]# semanage fcontext -a -t public_content_t /public&quot;(/.*)?&quot;[root@server_1 /]# semanage fcontext -a -t public_content_t /protected&quot;(/.*)?&quot;[root@server_1 /]# restorecon -vvFR /public /protected è®¾ç½®é˜²ç«å¢™[root@server_1 /]# systemctl restart nfs[root@server_1 /]# firewall-cmd --add-service=nfs --per[root@test_1 ~]# systemctl enable nfs-server.service å®¢æˆ·ç«¯æµ‹è¯•[root@server_2 ~]# mkdir /public_nfs/ /protected_nfs/[root@server_2 ~]# mount 192.168.19.101:/public /public_nfs/[root@server_2 ~]# mount 192.168.19.101:/protected /protected_nfs/[root@server_2 ~]# cat /public_nfs/testthis is nfs test[root@server_2 ~]# touch /public_nfs/xxtouch: cannot touch â€˜/public_nfs/xxâ€™: Read-only file system[root@server_2 ~]# touch /protected_nfs/xxæµ‹è¯•ç»“æžœä¸Žé¢„æœŸç›¸åŒ]]></content>
      <categories>
        <category>RHCE</category>
      </categories>
      <tags>
        <tag>RHCE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ­å»ºåŸºäºŽhttpsåè®®çš„é™æ€ç½‘ç«™]]></title>
    <url>%2Fpost%2F5298bbcd.html</url>
    <content type="text"><![CDATA[æ­å»ºåŸºäºŽhttpsåè®®çš„é™æ€ç½‘ç«™ å®‰è£…ssl[root@server_1 ~]# yum install mod_ssl -y åˆ›å»ºkey[root@server_1 ~]# cd /etc/pki/tls/certs/[root@server_1 certs]# make test.crt12345678910111213141516171819202122232425umask 77 ; \/usr/bin/openssl genrsa -aes128 2048 &gt; test.keyGenerating RSA private key, 2048 bit long modulus............+++.......................................................................................+++e is 65537 (0x10001)Enter pass phrase: //è¾“å…¥å¯†ç Verifying - Enter pass phrase: //ç¡®è®¤å¯†ç umask 77 ; \/usr/bin/openssl req -utf8 -new -key test.key -x509 -days 365 -out test.crt -set_serial 0Enter pass phrase for test.key: //ä¸Žä¸Šè¿°å¯†ç ç›¸åŒYou are about to be asked to enter information that will be incorporatedinto your certificate request.What you are about to enter is what is called a Distinguished Name or a DN.There are quite a few fields but you can leave some blankFor some fields there will be a default value,If you enter '.', the field will be left blank.-----Country Name (2 letter code) [XX]:CN //å›½å®¶ä»£ç State or Province Name (full name) []:shanxi //çœä»½Locality Name (eg, city) [Default City]:xian //åŸŽå¸‚Organization Name (eg, company) [Default Company Ltd]:openlab //å…¬å¸åOrganizational Unit Name (eg, section) []:tech //éƒ¨é—¨Common Name (eg, your name or your server's hostname) []:www.test.com //åŸŸåEmail Address []:openlab@163.com //é‚®ç®± ç¼–è¾‘é…ç½®æ–‡ä»¶[root@server_1 ~]# vim /etc/httpd/conf.d/vhost.confä¿®æ”¹å¦‚ä¸‹å†…å®¹12345678910&lt;VirtualHost 192.168.19.102&gt;SSLEngine onSSLProtocol all -SSLv2SSLCipherSuite HIGH:MEDIUM:!aNULL:!MD5SSLCertificateFile /etc/pki/tls/certs/test.crtSSLCertificateKeyFile /etc/pki/tls/certs/test.keyDocumentRoot /www/100ServerName 192.168.19.102ServerAdmin root@localhost&lt;/VirtualHost&gt; [root@test_1 certs]# echo this is https test &gt; /www/100/index.html é…ç½®é˜²ç«å¢™[root@server_1 certs]# firewall-cmd --add-port=443/tcp --per[root@server_1 certs]# systemctl restart firewalld[root@server_1 certs]# systemctl restart httpdEnter SSL pass phrase for 192.168.19.102:443 (RSA) : **è¿™é‡Œé‡å¯httpdæ—¶éœ€è¦è¾“å…¥ä¹‹å‰é…ç½®å¥½çš„RSAå¯†é’¥ å®¢æˆ·ç«¯æµ‹è¯•Firefoxè®¿é—® https://192.168.19.102ä¼šæç¤ºæ­¤é“¾æŽ¥ä¸å®‰å…¨ï¼Œç»§ç»­è®¿é—®çš„è¯å¯ä»¥çœ‹åˆ°å†…å®¹this is https test]]></content>
      <categories>
        <category>RHCE</category>
      </categories>
      <tags>
        <tag>RHCE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŸºäºŽåŸŸåå¯¹webæœåŠ¡å™¨çš„è®¿é—®]]></title>
    <url>%2Fpost%2Fbe5db992.html</url>
    <content type="text"><![CDATA[æ­å»ºåŸºäºŽåŸŸåå¯¹webæœåŠ¡å™¨çš„è®¿é—® ä¿®æ”¹é…ç½®æ–‡ä»¶[root@server_1 ~]# vim /etc/httpd/conf.d/vhost.confä¿®æ”¹å¦‚ä¸‹å†…å®¹123456&lt;VirtualHost 192.168.19.103&gt;DocumentRoot /www/aliasServerName www.alias.comServerAlias www.alias1.comServerAdmin root@localhost&lt;/VirtualHost&gt; [root@server_1 ~]# mkdir /www/alias[root@server_1 ~]# echo this is alias test &gt; /www/alias/index.htmlä¿®æ”¹æœåŠ¡å™¨hostsæ–‡ä»¶[root@server_1 ~]# vim /etc/hosts12192.168.19.103 www.alias.com192.168.19.103 www.alias1.com ä¿®æ”¹å®¢æˆ·ç«¯hostsæ–‡ä»¶[root@server_2 ~]# vim /etc/hosts12192.168.19.103 www.alias.com192.168.19.103 www.alias1.com é…ç½®selinux[root@test_1 ~]# restorecon -vvFR /www/ é…ç½®é˜²ç«å¢™ä¸ç”¨é…ç½®é˜²ç«å¢™é‡å¯httpdæœåŠ¡[root@server_1 ~]# systemctl restart httpd å®¢æˆ·ç«¯æµ‹è¯•[root@server_2 ~]# curl www.alias.comthis is alias test[root@server_2 ~]# curl www.alias1.comthis is alias test]]></content>
      <categories>
        <category>RHCE</category>
      </categories>
      <tags>
        <tag>RHCE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŸºäºŽç«¯å£å¯¹webæœåŠ¡å™¨çš„è®¿é—®]]></title>
    <url>%2Fpost%2F3c7c4242.html</url>
    <content type="text"><![CDATA[æ­å»ºåŸºäºŽç«¯å£çš„webæœåŠ¡å™¨çš„è®¿é—® ä¿®æ”¹é…ç½®æ–‡ä»¶[root@server_1 ~]# vim /etc/httpd/conf.d/vhost.confå¢žåŠ å¦‚ä¸‹å†…å®¹123456LISTEN 10000&lt;VirtualHost 192.168.19.103:10000&gt;DocumentRoot /www/200ServerName 192.168.19.103ServerAdmin root@localhost&lt;/VirtualHost&gt; [root@server_1 ~]# echo this is port 10000 test &gt; /www/200/index.html é…ç½®selinux[root@server_1 ~]# semanage port -a -t http_port_t -p tcp 10000 é…ç½®é˜²ç«å¢™[root@server_1 ~]# firewall-cmd --add-port=10000/tcp --per[root@server_1 ~]# systemctl restart firewalld[root@server_1 ~]# systemctl restart httpd å®¢æˆ·ç«¯æµ‹è¯•[root@server_2 ~]# curl 192.168.19.103:10000this is port 10000 test]]></content>
      <categories>
        <category>RHCE</category>
      </categories>
      <tags>
        <tag>RHCE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŸºäºŽipåœ°å€å¯¹webæœåŠ¡å™¨çš„è®¿é—®]]></title>
    <url>%2Fpost%2Fb0401d5e.html</url>
    <content type="text"><![CDATA[æ­å»ºåŸºäºŽipåœ°å€å¯¹webæœåŠ¡å™¨çš„è®¿é—® è¦æ±‚ä¸€ä¸ªipå¯¹åº”ä¸€ä¸ªç½‘ã€‚ä¾‹å¦‚å®žçŽ°ä»¥ä¸‹æ“ä½œï¼šå»ºç«‹ä¸€ä¸ª192.168.19.102çš„ç½‘ç«™ ï¼Œæ–‡ä»¶æ”¾åœ¨/www/100,å†…å®¹æ˜¾ç¤ºthis is 192.168.19.102.å»ºç«‹ä¸€ä¸ª192.168.19.103çš„ç½‘ç«™ ï¼Œæ–‡ä»¶æ”¾åœ¨/www/200,å†…å®¹æ˜¾ç¤ºthis is 192.168.19.103. é…ç½®ç½‘ç»œé¦–å…ˆç»™è™šæ‹Ÿæœºé…ç½®ä¸‰å—ç½‘å¡å¹¶è®¾ç½®å¥½IPåœ°å€ï¼Œé»˜è®¤ç½‘å¡å·²ç»é…ç½®å¥½[root@server_1 ~]# nmcli connection modify eno33554960 ipv4.addresses 192.168.19.102/24 ipv4.gateway 192.168.19.1 ipv4.dns 8.8.8.8 ipv4.method manual connection.autoconnect yes[root@server_1 ~]# nmcli connection modify eno50332184 ipv4.addresses 192.168.19.103/24 ipv4.gateway 192.168.19.1 ipv4.dns 8.8.8.8 ipv4.method manual connection.autoconnect yes[root@server_1 ~]# nmcli connection up eno33554960[root@server_1 ~]# nmcli connection up eno50332184ä¹Ÿå¯ä»¥åŽ»å›¾å½¢ç•Œé¢é…ç½®IPåœ°å€ï¼Œè¿™é‡Œæˆ‘çš„ä¸‰å—ç½‘å¡IPåœ°å€åˆ†åˆ«ä¸º192.168.19.101192.168.19.102192.168.19.103 ç¼–è¾‘é…ç½®æ–‡ä»¶[root@server_1 ~]# mkdir -p /www/{100,200}[root@server_1 ~]# echo this is 192.168.19.102 &gt; /www/100/index.html[root@server_1 ~]# echo this is 192.168.19.103 &gt; /www/200/index.html[root@server_1 ~]# vim /etc/httpd/conf.d/vhost.conf12345678910111213141516&lt;Directory /www&gt;AllowOverride noneRequire all granted&lt;/Directory&gt;&lt;VirtualHost 192.168.19.102&gt;DocumentRoot /www/100ServerName 192.168.19.102ServerAdmin root@localhost&lt;/VirtualHost&gt;&lt;VirtualHost 192.168.19.103&gt;DocumentRoot /www/200ServerName 192.168.19.103ServerAdmin root@localhost&lt;/VirtualHost&gt; é…ç½®selinuxæ·»åŠ selinuxä¸Šä¸‹æ–‡[root@server_1 ~]# semanage fcontext -a -t httpd_sys_content_t /www&quot;(/.*)?&quot;é‡æ–°åŠ è½½selinuxä¸Šä¸‹æ–‡[root@server_1 ~]# restorecon -vvFR /wwwé‡å¯httpdæœåŠ¡[root@server_1 ~]# systemctl restart httpd å®¢æˆ·ç«¯æµ‹è¯•[root@server_2 ~]# curl 192.168.19.102this is 192.168.19.102[root@server_2 ~]# curl 192.168.19.103this is 192.168.19.103]]></content>
      <categories>
        <category>RHCE</category>
      </categories>
      <tags>
        <tag>RHCE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ­å»ºåŸºäºŽhttpåè®®çš„é™æ€ç½‘ç«™]]></title>
    <url>%2Fpost%2Fbd25e061.html</url>
    <content type="text"><![CDATA[æ­å»ºé™æ€ç½‘ç«™â€”â€”åŸºäºŽhttpåè®®çš„é™æ€ç½‘ç«™ å®‰è£…è½¯ä»¶[root@server_1 ~]# yum install httpd\* -y ç¼–è¾‘é…ç½®æ–‡ä»¶é»˜è®¤æµ‹è¯•é™æ€é¡µé¢ä¸éœ€è¦ç¼–è¾‘ä¸»é…ç½®æ–‡ä»¶ ç¼–è¾‘index.htmlçš„å†…å®¹[root@server_1 ~]# echo hello world! &gt; /var/www/html/index.html é…ç½®selinux[root@server_1 ~]# vim /etc/selinux/configSELINUX=enforcing[root@server_1 ~]# setenforce 1[root@server_1 ~]# getenforceEnforcing é…ç½®é˜²ç«å¢™æ”¾è¡ŒhttpæœåŠ¡[root@server_1 ~]# firewall-cmd --add-service=http --peræ”¾è¡Œ80ç«¯å£[root@server_1 ~]# firewall-cmd --add-port=80/tcp --perå¼€æœºè‡ªåŠ¨å¯åŠ¨httpdæœåŠ¡[root@server_1 ~]# systemctl enable httpdé‡å¯httpdæœåŠ¡[root@server_1 ~]# systemctl restart httpdé‡å¯é˜²ç«å¢™[root@server_1 ~]# systemctl restart firewalld å®¢æˆ·ç«¯æµ‹è¯•[root@server_2 ~]# curl 192.168.19.101hello world!]]></content>
      <categories>
        <category>RHCE</category>
      </categories>
      <tags>
        <tag>RHCE</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[yumæºé…ç½®]]></title>
    <url>%2Fpost%2F135ecb38.html</url>
    <content type="text"><![CDATA[redhat linux7 yumæºé…ç½® æŒ‚åœ¨é•œåƒåˆ°/mntä¸´æ—¶æŒ‚è½½[root@server_1 ~]# mount /dev/sr0 /mnt/æ°¸ä¹…æŒ‚è½½,å»ºè®®æ°¸ä¹…æŒ‚è½½[root@server_1 ~]# vim /etc/fstab1/dev/sr0 /mnt iso9660 defaults 0 0 [root@server_1 ~]# mount -a å®šä¹‰é…ç½®æ–‡ä»¶[root@server_1 ~]# vim /etc/yum.repos.d/name.repo12345[name]name=basebaseurl=file:///mnt/enable=1gpgcheck=0 æµ‹è¯•1234567891011121314151617181920212223242526272829303132333435[root@server_1 ~]# yum install tree\* -yLoaded plugins: langpacks, product-id, search-disabled-repos, subscription- : managerThis system is not registered to Red Hat Subscription Management. You can use subscription-manager to register.Resolving Dependencies--&gt; Running transaction check---&gt; Package tree.x86_64 0:1.6.0-10.el7 will be installed--&gt; Finished Dependency ResolutionDependencies Resolved================================================================================= Package Arch Version Repository Size=================================================================================Installing: tree x86_64 1.6.0-10.el7 name 46 kTransaction Summary=================================================================================Install 1 PackageTotal download size: 46 kInstalled size: 87 kDownloading packages:Running transaction checkRunning transaction testTransaction test succeededRunning transaction Installing : tree-1.6.0-10.el7.x86_64 1/1 Verifying : tree-1.6.0-10.el7.x86_64 1/1Installed: tree.x86_64 0:1.6.0-10.el7Complete!]]></content>
      <categories>
        <category>RHCSA</category>
      </categories>
      <tags>
        <tag>RHCSA</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linuxæ ‘å½¢ç›®å½•ç»“æž„]]></title>
    <url>%2Fpost%2F304fb554.html</url>
    <content type="text"><![CDATA[å…³äºŽLinuxç³»ç»ŸåŸºæœ¬çš„æ ‘å½¢ç›®å½•ç»“æž„ Linuxæ ‘å½¢ç›®å½•å›¾ ç›®å½•è¯¦è§£æ ¹ç›®å½•/ å¤„äºŽlinuxç³»ç»Ÿæ ‘å½¢ç»“æž„çš„æœ€é¡¶ç«¯ï¼Œå®ƒæ˜¯linuxæ–‡ä»¶ç³»ç»Ÿçš„å…¥å£ï¼Œæ‰€æœ‰çš„ç›®å½•ã€æ–‡ä»¶ã€è®¾å¤‡éƒ½åœ¨/ä¹‹ä¸‹ã€‚/bin binæ˜¯Binaryçš„ç¼©å†™ï¼Œå­˜æ”¾ç€linuxç³»ç»Ÿå‘½ä»¤ã€‚/dev devæ˜¯Deviceçš„ç¼©å†™ã€‚å­˜æ”¾çš„æ˜¯linuxçš„å¤–éƒ¨è®¾å¤‡ï¼Œåœ¨linuxä¸­è®¿é—®è®¾å¤‡çš„æ–¹å¼å’Œè®¿é—®æ–‡ä»¶çš„æ–¹å¼æ˜¯ç›¸åŒçš„ã€‚ï¼ˆæ³¨æ„ï¼šè®¾å¤‡æ–‡ä»¶ä¸æ˜¯é©±åŠ¨ç¨‹åºã€‚è¿‡åŽ»ï¼Œåœ¨æ·»åŠ æ–°ç£ç›˜æˆ–è®¾å¤‡åŽï¼Œå¾€å¾€éœ€è¦æ‰‹åŠ¨å¢žåŠ è®¾å¤‡æ–‡ä»¶ã€‚çŽ°åœ¨é€šå¸¸æˆ‘ä»¬ä¸éœ€è¦æ‰‹åŠ¨å¢žåŠ è®¾å¤‡æ–‡ä»¶ï¼Œè¿è¡Œä¸€ä¸‹service kudzu start ï¼Œç³»ç»Ÿå°±ä¼šè‡ªåŠ¨é…ç½®ç›¸åº”çš„è®¾å¤‡ã€‚ï¼‰/home ç”¨æˆ·çš„ä¸»ç›®å½•ã€‚åœ¨liunxç³»ç»Ÿä¸­ï¼Œæ¯ä¸ªç”¨æˆ·éƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„ç›®å½•ï¼Œä¸€èˆ¬è¯¥ç›®å½•åæ˜¯ä»¥ç”¨æˆ·çš„å¸å·å‘½åçš„ã€‚/lib è¿™ä¸ªç›®å½•é‡Œå­˜æ”¾ç€ç³»ç»Ÿæœ€åŸºæœ¬çš„åŠ¨æ€é“¾æŽ¥å…±äº«åº“ï¼ŒåŒ…å«è®¸å¤šè¢«/bin/å’Œ/sbin/ä¸­çš„ç¨‹åºä½¿ç”¨çš„åº“æ–‡ä»¶ï¼Œç›®å½•/usr/lib/ä¸­å«æœ‰æ›´å¤šç”¨äºŽç”¨æˆ·ç¨‹åºçš„åº“æ–‡ä»¶ã€‚ä½œç”¨ç±»ä¼¼äºŽwindowsé‡Œçš„DLLæ–‡ä»¶ï¼Œå‡ ä¹Žæ‰€æœ‰çš„åº”ç”¨ç¨‹åºéƒ½éœ€è¦ç”¨åˆ°è¿™äº›å…±äº«åº“ã€‚/media linuxç³»ç»Ÿè‡ªåŠ¨è¯†åˆ«çš„ä¸€äº›è®¾å¤‡ï¼Œä¾‹å¦‚Uç›˜ã€å…‰é©±ã€ç§»åŠ¨ç¡¬ç›˜ç­‰ï¼Œlinuxä¼šæŠŠè¯†åˆ«çš„è®¾å¤‡æŒ‚è½½åˆ°è¿™ä¸ªç›®å½•ä¸‹ã€‚/mnt ç³»ç»Ÿæä¾›è¯¥ç›®å½•æ˜¯ä¸ºäº†è®©ç”¨æˆ·ä¸´æ—¶æŒ‚è½½åˆ«çš„æ–‡ä»¶ç³»ç»Ÿçš„ï¼Œå¯ä»¥å°†å…‰é©±æŒ‚è½½åˆ°/mnt/ä¸Šï¼Œç„¶åŽè¿›å…¥è¯¥ç›®å½•å°±å¯ä»¥æŸ¥çœ‹å…‰é©±é‡Œçš„å†…å®¹ã€‚/opt ä¸»æœºé¢å¤–å®‰è£…è½¯ä»¶æ‰€æ‘†æ”¾çš„ç›®å½•ã€‚é»˜è®¤æ˜¯ç©ºçš„ã€‚/root è¶…çº§ç®¡ç†å‘˜çš„ç”¨æˆ·ä¸»ç›®å½•ã€‚/selinux è¿™ä¸ªç›®å½•æ˜¯RedHat/CentOSæ‰€ç‰¹æœ‰çš„ç›®å½•ï¼ŒSelinuxæ˜¯ä¸€ä¸ªå®‰å…¨æœºåˆ¶ï¼Œè¿™ä¸ªæ¯”è¾ƒå¤æ‚ï¼Œè¿™ä¸ªç›®å½•å°±æ˜¯å­˜æ”¾Selinuxç›¸å…³çš„æ–‡ä»¶çš„ï¼Œä¸€èˆ¬æˆ‘ä»¬å®‰è£…æ“ä½œç³»ç»Ÿçš„æ—¶å€™ç¦æ­¢ä½¿ç”¨å®ƒã€‚/sys è¿™æ˜¯linux2.6å†…æ ¸çš„ä¸€ä¸ªå¾ˆå¤§çš„å˜åŒ–ã€‚è¯¥ç›®å½•ä¸‹å®‰è£…äº†2.6å†…æ ¸ä¸­æ–°å‡ºçŽ°çš„ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿsysfsï¼Œsysfsæ–‡ä»¶ç³»ç»Ÿé›†æˆäº†ä¸‹é¢3ç§æ–‡ä»¶ç³»ç»Ÿçš„ä¿¡æ¯ï¼šé’ˆå¯¹è¿›ç¨‹ä¿¡æ¯çš„procæ–‡ä»¶ç³»ç»Ÿã€é’ˆå¯¹è®¾å¤‡çš„devfsæ–‡ä»¶ç³»ç»Ÿä»¥åŠé’ˆå¯¹ä¼ªç»ˆç«¯çš„devptsæ–‡ä»¶ç³»ç»Ÿã€‚è¯¥æ–‡ä»¶ç³»ç»Ÿæ˜¯å†…æ ¸è®¾å¤‡æ ‘çš„ä¸€ä¸ªç›´è§‚åæ˜ ã€‚è¯¥æ–‡ä»¶ç³»ç»Ÿæ˜¯å†…æ ¸è®¾å¤‡æ ‘çš„ä¸€ä¸ªç›´è§‚åæ˜ ã€‚å½“ä¸€ä¸ªå†…æ ¸å¯¹è±¡è¢«åˆ›å»ºçš„æ—¶å€™ï¼Œå¯¹åº”çš„æ–‡ä»¶å’Œç›®å½•ä¹Ÿåœ¨å†…æ ¸å¯¹è±¡å­ç³»ç»Ÿç§è¢«åˆ›å»ºã€‚/usr åŒ…æ‹¬ä¸Žç³»ç»Ÿç”¨æˆ·ç›´æŽ¥æœ‰å…³çš„æ–‡ä»¶å’Œç›®å½•ï¼Œä¾‹å¦‚åº”ç”¨ç¨‹åºåŠæ”¯æŒå®ƒä»¬çš„åº“æ–‡ä»¶ã€‚ç±»ä¼¼äºŽwindowsä¸‹çš„program filesç›®å½•ã€‚/boot åŒ…æ‹¬å†…æ ¸å’Œå…¶å®ƒç³»ç»Ÿå¯åŠ¨æœŸé—´ä½¿ç”¨çš„æ–‡ä»¶ã€‚æ˜¯å¯åŠ¨linuxæ—¶ä½¿ç”¨çš„æ ¸å¿ƒæ–‡ä»¶ï¼Œæœ‰è¿žæŽ¥æ–‡ä»¶å’Œé•œåƒæ–‡ä»¶ã€‚/etc å­˜æ”¾ç³»ç»Ÿé…ç½®æ–‡ä»¶å’Œç›®å½•ï¼Œéžå¸¸é‡è¦ï¼Œç»å¸¸ä¼šç”¨åˆ°å®ƒï¼Œè¦ç‰¢è®°ã€‚/lost+found é»˜è®¤ä¸ºç©ºï¼Œè¢«FSCKï¼ˆfile system checkç”¨æ¥æ£€æŸ¥å’Œç»´æŠ¤ä¸ä¸€è‡´çš„æ–‡ä»¶ç³»ç»Ÿã€‚è‹¥ç³»ç»ŸæŽ‰ç”µæˆ–ç£ç›˜å‘ç”Ÿé—®é¢˜ï¼Œå¯åˆ©ç”¨fsckå‘½ä»¤å¯¹æ–‡ä»¶ç³»ç»Ÿè¿›è¡Œæ£€æŸ¥ï¼‰ç”¨æ¥æ”¾ç½®é›¶æ•£æ–‡ä»¶ï¼ˆæ²¡æœ‰åç§°çš„æ–‡ä»¶ï¼‰ã€‚å½“ç³»ç»Ÿéžæ³•å…³æœºåŽï¼Œè¿™é‡Œå°±ä¼šå­˜æ”¾ä¸€äº›æ–‡ä»¶ã€‚/misc å­˜æ”¾æ‚é¡¹æ–‡ä»¶æˆ–ç›®å½•ï¼Œå³é‚£äº›ç”¨é€”æˆ–å«ä¹‰ä¸æ˜Žç¡®çš„æ–‡ä»¶æˆ–ç›®å½•å¯ä»¥å­˜æ”¾åœ¨è¯¥ç›®å½•ä¸‹ã€‚/proc æ“ä½œç³»ç»Ÿè¿è¡Œæ—¶ï¼Œè¿›ç¨‹ï¼ˆæ­£åœ¨è¿è¡Œä¸­çš„ç¨‹åºï¼‰ä¿¡æ¯åŠå†…æ ¸ä¿¡æ¯ï¼ˆæ¯”å¦‚cpuã€ç¡¬ç›˜åˆ†åŒºã€å†…å­˜ä¿¡æ¯ç­‰ï¼‰å­˜æ”¾åœ¨è¿™é‡Œã€‚/procç›®å½•æ˜¯ä¼ªè£…çš„æ–‡ä»¶ç³»ç»Ÿprocçš„æŒ‚è½½ç›®å½•ï¼Œprocå¹¶ä¸æ˜¯çœŸæ­£çš„æ–‡ä»¶ç³»ç»Ÿã€‚å› æ­¤ï¼Œè¿™ä¸ªç›®å½•æ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„ç›®å½•ï¼Œå®ƒæ˜¯ç³»ç»Ÿå†…å­˜çš„æ˜ å°„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç›´æŽ¥è®¿é—®è¿™ä¸ªç›®å½•æ¥èŽ·å–ç³»ç»Ÿä¿¡æ¯ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªç›®å½•çš„å†…å®¹ä¸åœ¨ç¡¬ç›˜ä¸Šè€Œæ˜¯åœ¨å†…å­˜é‡Œã€‚/sbin å¤§å¤šæ•°æ¶‰åŠç³»ç»Ÿç®¡ç†çš„å‘½ä»¤éƒ½å­˜æ”¾åœ¨è¯¥ç›®å½•ä¸­ï¼Œå®ƒæ˜¯è¶…çº§æƒé™ç”¨æˆ·rootçš„å¯æ‰§è¡Œå‘½ä»¤å­˜æ”¾åœ°ï¼Œæ™®é€šç”¨æˆ·æ— æƒé™æ‰§è¡Œè¿™ä¸ªç›®å½•ä¸‹çš„å‘½ä»¤ï¼Œå‡¡æ˜¯ç›®å½•sbinä¸­åŒ…å«çš„å‘½ä»¤éƒ½æ˜¯rootæƒé™æ‰èƒ½æ‰§è¡Œçš„ã€‚/srv è¯¥ç›®å½•å­˜æ”¾ä¸€äº›æœåŠ¡å¯åŠ¨ä¹‹åŽéœ€è¦æå–çš„æ•°æ®ã€‚/tmp è¯¥ç›®å½•ç”¨äºŽå­˜æ”¾ä¸´æ—¶æ–‡ä»¶ï¼Œæœ‰æ—¶ç”¨æˆ·è¿è¡Œç¨‹åºçš„æ—¶å€™ï¼Œä¼šäº§ç”Ÿä¸€äº›ä¸´æ—¶æ–‡ä»¶ã€‚/tmpå°±æ˜¯ç”¨æ¥å­˜æ”¾ä¸´æ—¶æ–‡ä»¶çš„ã€‚/var/tmpç›®å½•å’Œè¯¥ç›®å½•çš„ä½œç”¨æ˜¯ç›¸ä¼¼çš„ã€‚/var è¯¥ç›®å½•çš„å†…å®¹æ˜¯ç»å¸¸å˜åŠ¨çš„ï¼Œ/varä¸‹æœ‰/var/logç›®å½•ç”¨æ¥å­˜æ”¾ç³»ç»Ÿæ—¥å¿—çš„ç›®å½•ã€‚/var/wwwç›®å½•ç”¨æ¥å®šä¹‰ApacheæœåŠ¡å™¨ç«™ç‚¹å­˜æ”¾ç›®å½•ã€‚/var/libç”¨æ¥å­˜æ”¾ä¸€äº›åº“æ–‡ä»¶ã€‚ å…¶å®ƒé‡è¦ç³»ç»Ÿç›®å½•/usr/bin è¿™ä¸ªç›®å½•æ˜¯å¯æ‰§è¡Œç¨‹åºçš„ç›®å½•ï¼Œæ™®é€šç”¨æˆ·å°±æœ‰æƒé™æ‰§è¡Œã€‚å½“æˆ‘ä»¬ä»Žç³»ç»Ÿè‡ªå¸¦çš„è½¯ä»¶åŒ…å®‰è£…ä¸€ä¸ªç¨‹åºæ—¶ï¼Œä»–çš„å¯æ‰§è¡Œæ–‡ä»¶å¤§å¤šä¼šæ”¾åœ¨è¿™ä¸ªç›®å½•ã€‚ç›¸ä¼¼çš„ç›®å½•æ˜¯/usr/local/binç›®å½•ã€‚æœ‰æ—¶/usr/binä¸­çš„æ–‡ä»¶æ˜¯/usr/local/binçš„é“¾æŽ¥æ–‡ä»¶ã€‚/usr/sbin è¿™ä¸ªç›®å½•ä¹Ÿæ˜¯å¯æ‰§è¡Œç¨‹åºçš„ç›®å½•ï¼Œä½†å¤§å¤šå­˜æ”¾æ¶‰åŠç³»ç»Ÿç®¡ç†çš„å‘½ä»¤ã€‚åªæœ‰rootæƒé™æ‰èƒ½æ‰§è¡Œï¼Œç›¸ä¼¼ç›®å½•æ˜¯/sbinæˆ–/usr/local/sbinæˆ–/usr/X11R6/sbinç­‰ã€‚/usr/src å†…æ ¸æºç é»˜è®¤çš„æ”¾ç½®ç›®å½•/proc/cpuinfo å…³äºŽå¤„ç†å™¨çš„ä¿¡æ¯ï¼Œå¦‚ç±»ä¼¼ã€åŽ‚å®¶ã€åž‹å·å’Œæ€§èƒ½ç­‰ã€‚æ¯”å¦‚cat /proc/cpuinfo/proc/devices å½“å‰è¿è¡Œå†…æ ¸æ‰€é…ç½®çš„æ‰€æœ‰è®¾å¤‡æ¸…å•ã€‚/proc/filesystems å½“å‰è¿è¡Œå†…æ ¸æ‰€é…ç½®çš„æ–‡ä»¶ç³»ç»Ÿã€‚/proc/dma å½“å‰æ­£åœ¨ä½¿ç”¨çš„DMAé€šé“ã€‚/proc/interrupts æ­£åœ¨ä½¿ç”¨çš„ä¸­æ–­å’Œæ›¾ç»æœ‰å¤šå°‘ä¸ªä¸­æ–­ã€‚/proc/ioportså½“å‰æ­£åœ¨ä½¿ç”¨çš„I/Oç«¯å£ã€‚/etc/init.dè¿™ä¸ªç›®å½•æ˜¯ç”¨æ¥å­˜æ”¾ç³»ç»Ÿæˆ–æœåŠ¡å™¨ä»¥System Væ¨¡å¼å¯åŠ¨çš„è„šæœ¬ï¼Œè¿™åœ¨ä»¥System Væ¨¡å¼å¯åŠ¨æˆ–åˆå§‹åŒ–çš„ç³»ç»Ÿä¸­å¸¸è§ã€‚æ¯”å¦‚RedHat Fedoraã€‚/etc/xinetd.d å¦‚æžœæœåŠ¡å™¨æ˜¯é€šè¿‡xinetdæ¨¡å¼è¿è¡Œçš„ï¼Œå®ƒçš„è„šæœ¬è¦æ”¾åœ¨è¿™ä¸ªç›®å½•ä¸‹ã€‚æœ‰äº›ç³»ç»Ÿæ²¡æœ‰è¿™ä¸ªç›®å½•ï¼Œæ¯”å¦‚Slackwareï¼Œæœ‰äº›è€çš„ç‰ˆæœ¬ä¹Ÿæ²¡æœ‰ã€‚åœ¨Redhat Fedoraä¸­æ¯”è¾ƒæ–°çš„ç‰ˆæœ¬ä¸­å­˜åœ¨ã€‚/etc/rc.d è¿™æ˜¯Slackwareå‘è¡Œç‰ˆä¸­æœ‰çš„ä¸€ä¸ªç›®å½•ï¼Œæ˜¯BSDæ–¹å¼å¯åŠ¨è„šæœ¬çš„å­˜æ”¾åœ°ï¼Œæ¯”å¦‚å®šä¹‰ç½‘å¡ï¼ŒæœåŠ¡å™¨å¼€å¯è„šæœ¬ç­‰ã€‚/etc/X11 æ˜¯X-Windowç›¸å…³çš„é…ç½®æ–‡ä»¶å­˜æ”¾åœ°ã€‚/var/admæ¯”å¦‚è½¯ä»¶åŒ…å®‰è£…ä¿¡æ¯ã€æ—¥å¿—ã€ç®¡ç†ä¿¡æ¯ç­‰å°±å­˜æ”¾åœ¨è¯¥ç›®å½•ä¸‹ï¼Œåœ¨Slackwareæ“ä½œç³»ç»Ÿä¸­æ˜¯æœ‰è¿™ä¸ªç›®å½•çš„ã€‚åœ¨Fedoraä¸­å¥½è±¡æ²¡æœ‰ã€‚]]></content>
      <categories>
        <category>RHCSA</category>
      </categories>
      <tags>
        <tag>RHCSA</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç ´è§£redhat_Linux_7çš„å¯†ç ]]></title>
    <url>%2Fpost%2F84febc34.html</url>
    <content type="text"><![CDATA[ä»¥ä¸‹æ˜¯ç ´è§£Linux 7 å¯†ç çš„è¯¦ç»†æ­¥éª¤ ç ´è§£Red Hat Enterprise Linux 7çš„å¯†ç ç¬¬ä¸€æ­¥ï¼šè¿›å…¥å¯åŠ¨èœå• å¼€æœºåŽé€‰ä¸­ç¬¬ä¸€é¡¹ï¼Œç„¶åŽæŒ‰ä¸‹é”®ç›˜eé”® ä¼šè¿›å…¥åˆ°å¦‚ä¸‹ç•Œé¢ ç¬¬äºŒæ­¥ï¼šç¼–è¾‘å¯åŠ¨èœå• è¿›å…¥æ­¤ç•Œé¢åŽï¼Œä½¿ç”¨é”®ç›˜çš„ä¸Šä¸‹å·¦å³é”®ä½¿å…‰æ ‡ç§»åŠ¨åˆ°linux16è¡Œå°¾æ·»åŠ rd.break ï¼ˆæ³¨æ„UTF-8åŽçš„ç©ºæ ¼ï¼‰ï¼Œç„¶åŽæŒ‰ä¸‹Ctrl+xæ‰§è¡Œ ä¼šè¿›å…¥åˆ°å¦‚ä¸‹ç•Œé¢ ç¬¬ä¸‰æ­¥ï¼šæ›´æ”¹å¯†ç  è¾“å…¥mount -o remount,rw /sysroot,ç„¶åŽå›žè½¦ è¾“å…¥chroot /sysroot,ç„¶åŽå›žè½¦ è¾“å…¥passwd root,ç„¶åŽå›žè½¦ è¾“å…¥ä¸¤æ¬¡æ–°å¯†ç  è¾“å…¥touch /.autorelabel è¾“å…¥ä¸¤æ¬¡exitï¼Œä¹‹åŽä¼šè‡ªåŠ¨é‡å¯ï¼Œå³å¯è¿›å…¥å¼€æœºç•Œé¢ï¼Œç ´è§£å®Œæˆ]]></content>
      <categories>
        <category>RHCSA</category>
      </categories>
      <tags>
        <tag>RHCSA</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¦‚ä½•åœ¨è™šæ‹Ÿæœºä¸‹å®‰è£…Linuxæ“ä½œç³»ç»Ÿ]]></title>
    <url>%2Fpost%2F6548567b.html</url>
    <content type="text"><![CDATA[ä»¥ä¸‹æ˜¯å®‰è£…çº¢å¸½Linuxçš„è¯¦ç»†æ­¥éª¤ åœ¨VMwareè™šæ‹Ÿæœºä¸‹å®‰è£…Red Hat Enterprise Linux 7 å‰ææ¡ä»¶ 1.Intelå¤„ç†å™¨çš„ç”µè„‘éœ€åœ¨BIOSä¸­å¼€å¯å¤„ç†å™¨è™šæ‹ŸåŒ–æŠ€æœ¯ 2.æœ€å¥½å…³é—­ä¸å¿…è¦çš„å®‰å…¨è½¯ä»¶ï¼Œå°¤å…¶æ˜¯360ï¼ˆé»‘åŒ£å­äº‹ä»¶ï¼‰ 3.å‡†å¤‡å¥½æ‰€éœ€çš„VMwareè½¯ä»¶å’ŒLinuxçš„å®‰è£…é•œåƒ ç¬¬ä¸€æ­¥ï¼šæ–°å»ºè™šæ‹Ÿæœºä¸€.å®‰è£…Vmwareæ­¤å¤„çœç•¥ äºŒ.æ–°å»ºLinuxè™šæ‹Ÿæœº å‡†å¤‡Red Hat Enterprise Linux 7çš„é•œåƒï¼Œå¯åŽ»çº¢å¸½å®˜ç½‘ä¸‹è½½ä¸‹è½½Linux æ‰“å¼€VMwareï¼Œç‚¹å‡»å·¦ä¸Šè§’æ–°å»ºè™šæ‹Ÿæœº é€‰æ‹©è‡ªå®šä¹‰ é€‰æ‹©Workstation 14.x é€‰æ‹©ç¨åŽå®‰è£…æ“ä½œç³»ç»Ÿ é€‰æ‹©Linuxï¼Œé€‰æ‹©Red Hat Enterprise Linux 7 é€‰æ‹©å®‰è£…çš„ä½ç½®ï¼Œè¿™é‡Œæˆ‘é€‰æ‹©çš„æ˜¯D:\Vmware\redhat7ï¼Œå»ºè®®ä¸è¦é€‰æ‹©Cç›˜ å¤„ç†å™¨æ•°é‡1ï¼Œå†…æ ¸æ•°é‡1 å»ºè®®å†…å­˜2Gä»¥ä¸Šï¼Œå¦‚æžœè‡ªå·±ç¬”è®°æœ¬å†…å­˜è¾ƒå°çš„è¯ï¼Œå¯ä»¥é€‰æ‹©1GBè¶³ä»¥ã€‚ è¿™é‡Œæˆ‘ä»¬é€‰æ‹©NATï¼Œä¹Ÿå¯ä»¥é€‰æ‹©å…¶ä»–æ¨¡å¼ é€‰æ‹©æŽ¨èå³å¯ é€‰æ‹©SCSI é€‰æ‹©åˆ›å»ºæ–°è™šæ‹Ÿç£ç›˜ ç£ç›˜å®¹é‡20GBè¶³ä»¥ï¼Œä¹Ÿå¯ä»¥æ›´å¤§ï¼Œé€‰æ‹©å°†è™šæ‹Ÿç£ç›˜æ‹†åˆ†æˆå¤šä¸ªæ–‡ä»¶ ä¸‹ä¸€æ­¥å³å¯ ç‚¹å‡»å®Œæˆ è‡³æ­¤ï¼Œè™šæ‹Ÿæœºå·²åˆ›å»ºå¥½ï¼ŒåŒå‡» CD/DVDï¼ˆSATAï¼‰ é€‰æ‹©ä½¿ç”¨ISOé•œåƒæ–‡ä»¶ï¼Œé€‰æ‹©ä¸‹è½½å¥½çš„é•œåƒæ–‡ä»¶å³å¯ï¼Œç‚¹å‡»ç¡®å®šï¼Œè‡³æ­¤åˆ›å»ºLinuxè™šæ‹Ÿæœºçš„å·¥ä½œå·²å…¨éƒ¨å®Œæˆï¼ŒæŽ¥ä¸‹æ¥æ˜¯å®‰è£…Linuxçš„æ­¥éª¤ ç¬¬äºŒæ­¥ï¼šå®‰è£…Linux ç‚¹å‡»å¼€å¯æ­¤è™šæ‹Ÿæœº é¼ æ ‡ç‚¹å‡»åˆ°å®‰è£…ç•Œé¢ä¸­ï¼ˆCtrl+Altå¯ä»¥å°†é¼ æ ‡åˆ‡æ¢å›žç³»ç»Ÿï¼‰ï¼Œç™½å­—ä»£è¡¨é€‰ä¸­é¡¹ï¼Œè¿™é‡Œæˆ‘ä»¬é€‰æ‹©ç›´æŽ¥å®‰è£…ï¼Œä¹Ÿå°±æ˜¯ç¬¬ä¸€é¡¹ è¿™é‡Œè¯­è¨€é€‰æ‹©è‹±æ–‡ï¼Œæœ‰åŠ©äºŽå­¦ä¹ è‹±è¯­å’Œé¿å…åŽç»­ä¸­æ–‡ä¹±ç ã€‚ è®¾ç½®æ—¶é—´ Asiaï¼ŒShanghaiï¼Œè®¾ç½®æ—¶é—´ä¹‹åŽç‚¹å‡»Done é€‰æ‹©SOFTWARE SELECTIONï¼Œè¿›è¡Œå®‰è£…å›¾å½¢åŒ–ç•Œé¢ å·¦ä¾§é€‰æ‹©Server with GUIï¼Œå³è¾¹é€‰æ‹©KDEï¼Œç‚¹å‡»Done é€‰æ‹©INSTALLATION DESTINATIONï¼Œé…ç½®å®‰è£…ä½ç½® é€‰æ‹©20Gçš„è™šæ‹Ÿç£ç›˜ï¼Œé€‰æ‹©I will configure partitioningï¼Œæ‰‹åŠ¨é…ç½®åˆ†åŒºï¼Œç‚¹å‡»Done è¿™é‡Œæˆ‘ä»¬é€‰æ‹©Standard Partition æ·»åŠ ç¬¬ä¸€ä¸ªbootåˆ†åŒºï¼Œå¦‚å›¾ç¤ºï¼Œå¦‚æžœä¸èƒ½è¾“å…¥ï¼Œè¯·æ‰“å¼€å°é”®ç›˜ï¼Œè¿™é‡Œæˆ‘ä»¬ç»™äº†2000Mï¼Œç‚¹å‡»Add mount point ä»¥æ­¤æ·»åŠ å›¾ä¸­çš„ä¸‰ä¸ªåˆ†åŒºï¼Œswapäº¤æ¢åˆ†åŒºå¤§å°æœ€å¥½æ˜¯å®‰è£…æ—¶ç»™äºˆå†…å­˜çš„ä¸€åŠä»¥ä¸Šï¼Œå®Œæˆç‚¹å‡»Done ç‚¹å‡»Accept Changes é…ç½®å®Œäº†ï¼Œé€‰æ‹©Begin Installation æŽ¥ä¸‹æ¥å°±æ˜¯æ¼«é•¿çš„ç­‰å¾…è¿‡ç¨‹ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥é…ç½®rootçš„å¯†ç  å¯†ç æœ€å¥½8ä½ä»¥ä¸Šï¼Œç‚¹å‡»Doneå³å¯ é…ç½®æ™®é€šç”¨æˆ·çš„è´¦å·å¯†ç  å®‰è£…å®ŒæˆåŽï¼Œç‚¹å‡»Reboot åŒæ„è®¸å¯ï¼Œè¾“å…¥1,2,c,c,å³å¯ï¼Œæ¯è¾“å…¥ä¸€æ¬¡ï¼ŒæŒ‰ä¸€æ¬¡å›žè½¦ï¼Œç­‰å¾…é‡å¯å³å¯è¿›å…¥ç•Œé¢]]></content>
      <categories>
        <category>RHCSA</category>
      </categories>
      <tags>
        <tag>RHCSA</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[IPSEC-VPN]]></title>
    <url>%2Fpost%2F82530c7a.html</url>
    <content type="text"><![CDATA[ä¸æ˜¯ä¸åšï¼Œæ—¶å€™æœªåˆ°ã€‚ IPSEC VPNå¦‚ä½•ä¿éšœæ•°æ®ä¼ é€’çš„å®‰å…¨æ€§ ç§å¯†æ€§ï¼šä½¿ç”¨å¯¹ç§°åŠ å¯†ç®—æ³•å’Œéžå¯¹ç§°åŠ å¯†ç®—æ³• å®Œæ•´æ€§ï¼šä½¿ç”¨hash æ•£åˆ—å‡½æ•° æºè®¤è¯ï¼šæ•°å­—ç­¾å hmac ä¸å¯å¦è®¤æ€§ï¼šæ•°å­—è¯ä¹¦ åŠ å¯†ç®—æ³• å¯¹ç§°åŠ å¯†ç®—æ³•ï¼šDESï¼ˆ56bitï¼‰ 3DESï¼ˆ168bitï¼‰ AESï¼ˆ256bitï¼‰ éžå¯¹ç§°åŠ å¯†ç®—æ³•ï¼šRSA DH ECC RC2/3/4/6 HASH å‡½æ•°ï¼š è®¤è¯ç®—æ³•ç‰¹ç‚¹ï¼š1.ä¸å¯é€†æ€§2.é›ªå´©æ•ˆåº”3.ä¸ç­‰é•¿è¾“å…¥ã€ç­‰é•¿çš„è¾“å‡º4.ä¸åŒçš„æ•°æ®äº§ç”Ÿä¸åŒçš„hashå€¼ MD5ï¼ˆ128 bitï¼‰ SHAï¼ˆ160 bitï¼‰ æ•°å­—ç­¾åï¼šå°†æ•°æ®ä½¿ç”¨hashè®¤è¯ç®—æ³•è®¡ç®—å¾—åˆ°hashå€¼ï¼Œå°†hashå€¼ä½¿ç”¨éžå¯¹ç§°ç®—æ³•ä¸­ç§é’¥åŠ å¯†ã€‚ æ•°å­—è¯ä¹¦ï¼šç”±å¯ä¿¡çš„ç¬¬ä¸‰æ–¹é¢å‘ï¼ˆCAæœºæž„ï¼‰ï¼Œå†…å®¹åŒ…å«äº†è¯¥ç”¨æˆ·çš„å¯¹ç§°åŠ å¯†ç®—æ³•ï¼Œå…¬é’¥ã€å…¬å¸åã€åœ°å€ VPNåˆ†ç±» äºŒå±‚VPN : FR ATM ä¸‰å±‚VPN : GRE IPSEC VPN GREï¼šé€šç”¨è·¯ç”±å°è£… ï¼Œæ— å®‰å…¨æ€§ä¿éšœ MPLS VPNï¼šVPNæ˜¯åœ¨ISPå†…å®Œæˆçš„ï¼Œå®‰å…¨æ€§è¾ƒé«˜ã€æœ‰QOSä¿éšœ IPSEC VPNï¼šVPNæ˜¯åœ¨Cç½‘ç»œä¸­å®Œæˆï¼Œå®‰å…¨æ€§éžå¸¸é«˜ï¼Œæ— QOSä¿éšœ IPSEC VPNï¼šIPSECï¼Œå¯¹IPæ•°æ®è¿›è¡ŒåŠ å¯†æˆ–è®¤è¯ ä½¿ç”¨IKEåå•† ï¼Œä½¿ç”¨ESPæˆ–AHå°è£…ä¿è¯æ•°æ®ä¼ è¾“çš„å®‰å…¨æ€§. IPSEC VPN æ¨¡å¼ï¼š Transport mode ï¼šä¼ è¾“æ¨¡å¼,ä¸ä¼šæ–°å¢žåŠ IPå¤´éƒ¨ Tunnel mode ï¼šéš§é“æ¨¡å¼ï¼Œå¢žåŠ äº†ä¸€ä¸ªæ–°çš„IPå¤´éƒ¨ IPSEC VPNå·¥ä½œè¿‡ç¨‹åˆ†ç±»ï¼š Site-to-site VPN ï¼šç«™ç‚¹åˆ°ç«™ç‚¹ LAN to LAN Remote-access ï¼šè¿œç¨‹è®¿é—® IPSEC VPN IKE ï¼š Internet key exchange äº’è”ç½‘å¯†é’¥äº¤äº’åè®® ä½¿ç”¨å°è£…åè®®ï¼š ESP AH ESP ï¼š è´Ÿè½½å°è£…å®‰å…¨åè®®ï¼Œä½¿ç”¨IPå°è£…åè®®ä¸º50ï¼Œé’ˆå¯¹dataæˆ–åŽŸå§‹IPV4å¤´éƒ¨+Dataè¿›è¡ŒåŠ å¯†ï¼Œé’ˆå¯¹ ESPherderï¼Œpayloadï¼ŒESPï¼Œtail è¿›è¡Œè®¤è¯ï¼Œè®¤è¯ä¹‹åŽçš„Hashå­˜æ”¾åœ¨ESP tailä¸­. AHï¼šè®¤è¯å¤´éƒ¨ï¼Œä½¿ç”¨IPå°è£…åè®®å·ä½51ï¼Œé’ˆå¯¹å†…å±‚IPå¤´éƒ¨ä»¥åŠDataæ•°æ®è¿›è¡Œè®¤è¯ï¼Œä¸åŒ…å«åŠ å¯†è¿‡ç¨‹ æºè®¤è¯ï¼šHMAC ï¼Œå¯†é’¥åŒ–å“ˆå¸Œ SPI: å®‰å…¨å…³è”ç´¢å¼• Seq numï¼šåºåˆ—å· IVï¼šåˆå§‹åŒ–å‘é‡ å®žæ–½IPSEC VPN ä¿è¯è·¯ç”±é€šä¿¡ï¼ˆåŒæ–¹siteä¹‹é—´çš„å…¬æœ‰IPåœ°å€æ—¶æ˜¯å¯ä»¥äº’è®¿ï¼‰ å®šä¹‰æ„Ÿå…´è¶£æµé‡ï¼ˆé’ˆå¯¹æŸäº›æµé‡ä½¿ç”¨IPSEC ä¼ é€’ï¼‰ IKE ç¬¬ä¸€é˜¶æ®µï¼ŒISAKMP SAåå•† IKE ç¬¬äºŒé˜¶æ®µï¼ŒIPSEC SAåå•† å°†æ„Ÿå…´è¶£æµé‡ã€ISAKMP IPSEC SAç­‰ä¿¡æ¯å…³è”è‡³crypto-mapï¼Œåœ¨è¿žæŽ¥å¤–ç½‘çš„æŽ¥å£ä¸Šè°ƒç”¨ ç»ˆæ­¢IPSEC VPN éƒ¨ç½² ä¿è¯é€šä¿¡R1(config)#ip route 0.0.0.0 0.0.0.0 12.1.1.2R2(config)#ip route 0.0.0.0 0.0.0.0 12.1.1.1ç»“æžœ 1234R1#ping ping 2.2.2.2 source 1.1.1.1Type escape sequence to abort.Sending 5, 100-byte ICMP Echos to 2.2.2.2, timeout is 2 seconds:!!!!! å®šä¹‰æ„Ÿå…´è¶£æµé‡ï¼ˆä½¿ç”¨ACLï¼‰R1(config)#access-list 100 permit icmp host 1.1.1.1 host 2.2.2.2R2(config)#access-list 100 permit icmp host 2.2.2.2 host 1.1.1.1 å®šä¹‰ISAKMP SAä¿¡æ¯ å®šä¹‰ISAKMP ç­–ç•¥ï¼ˆç”¨äºŽè½®å¾ªï¼‰R1(config)#crypto isakmp policy 10 å®šä¹‰å¯¹ç§°åŠ å¯†ç®—æ³•R1(config-isakmp)#encryption 3des å®šä¹‰hashè®¤è¯ç®—æ³•R1(config-isakmp)#hash md5 é€‰æ‹©ä½¿ç”¨åŸŸå…±äº«å¯†é’¥æ–¹å¼äº§ç”ŸkeyR1(config-isakmp)#authentication pre-share å®šä¹‰éžå¯¹ç§°åŠ å¯†ç®—æ³•ï¼ˆä¸ºDH-2ï¼‰R1(config-isakmp)#group 2 å®šä¹‰åŸŸå…±äº«å¯†é’¥ key å€¼R1(config)#crypto isakmp key cisco address 12.1.1.2 å®šä¹‰IPSEC SAï¼ˆä½¿ç”¨ESPæˆ–AHæ–¹å¼åŠ å¯†è®¤è¯ï¼‰ï¼ˆipsecï¼‰R1(config)#crypto ipsec transform-set ipsec esp-aes esp-sha-hmac å®šä¹‰crypto map å®šä¹‰åç§°R1(config)#crypto map ccie 10 ipsec-isakmp æŒ‡å®šæŸä¸ªå¯¹æ–¹IPåœ°å€ç”Ÿæ•ˆR1(config-crypto-map)#set peer 12.1.1.2 å®šä¹‰è½¬æ¢é›†ï¼ˆipsecï¼‰R1(config-crypto-map)#set transform-set ipsec è°ƒç”¨æ„Ÿå…´è¶£æµï¼ˆACLï¼‰R1(config-crypto-map)#match address 100 æŽ¥å£è°ƒç”¨R1(config)#int f0/0R1(config-if)#crypto map ccie *Dec 24 15:34:08.483: %CRYPTO-6-ISAKMP_ON_OFF: ISAKMP is ON R2åŒç†pingç»“æžœ123456R1#ping 2.2.2.2 source 1.1.1.1Type escape sequence to abort.Sending 5, 100-byte ICMP Echos to 2.2.2.2, timeout is 2 seconds:Packet sent with a source address of 1.1.1.1 .!!!! ç»“æžœæŠ“åŒ…]]></content>
      <categories>
        <category>CCNP</category>
      </categories>
      <tags>
        <tag>CCNP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[äº¤æ¢å®‰å…¨]]></title>
    <url>%2Fpost%2F54e8df91.html</url>
    <content type="text"><![CDATA[ä¸æ˜¯ä¸åšï¼Œæ—¶å€™æœªåˆ°ã€‚ äº¤æ¢å®‰å…¨MACåœ°å€æ”»å‡»æ¦‚å¿µï¼šæ”»å‡»è€…ä¸æ–­ä¿®æ”¹è‡ªå·±çš„MACåœ°å€ï¼Œäº¤æ¢æœºè¿›è¡Œå¤§é‡å­¦ ä¹ ï¼Œå¯¼è‡´äº¤æ¢æœºmacåœ°å€è¡¨ç¼“å­˜æº¢å‡ºï¼Œä¸èƒ½å†å­¦ä¹ å…¶ä»–çš„Macåœ°å€ä¿¡æ¯ï¼Œ æ­¤æ—¶äº¤æ¢æœºå°†å·¥ä½œåœ¨hubçŠ¶æ€ è§£å†³æ–¹æ¡ˆï¼š1.é™æ€MACåœ°å€å†™å…¥é™æ€MACåœ°å€å†™ä¹¦ï¼šsw1(config)#mac address-table static 000a.000b.000c vlan 1 interface ethernet 2/0æŸ¥çœ‹ï¼š sw1#sho mac address-table staticç»“æžœï¼š Mac Address Table ------------------------------------------- Vlan Mac Address Type Ports ---- ----------- -------- ----- 1 000a.000b.000c STATIC Et2/0 Total Mac Addresses for this criterion: 1 2.åŸºäºŽMACåœ°å€è¿‡æ»¤sw1(config)#mac address-table static 00a.00b.00c vlan 1 drop3.ç«¯å£å®‰å…¨è®¾ç½®æŽ¥å£æŽ¥æ”¶çš„MACåœ°å€æ•°é‡ä»¥åŠæŽ¥æ”¶æŽˆæƒMacåœ°å€é»˜è®¤å¯ç”¨äº†ç«¯å£å®‰å…¨ä¹‹åŽï¼ŒæŽ¥æ”¶MACåœ°å€æ•°æ®åªæœ‰1ä¸ªï¼ŒæŽˆæƒå­¦ä¹ åˆ°çš„ç¬¬ä¸€ä¸ªMACåœ°å€. å¼€å¯ç«¯å£å®‰å…¨sw1(config-if)#switchport port-security è®¾ç½®æ”¯æŒçš„MACåœ°å€æ•°é‡ï¼ˆé»˜è®¤ä¸º1ï¼‰sw1(config-if)#switchport port-security maximum 1 æŒ‡å®šæŽˆæƒçš„åˆæ³•çš„MACåœ°å€123sw1(config-if)#switchport port-security mac-address ?H.H.H 48 bit mac addresssticky Configure dynamic secure addresses as sticky stickyè¡¨ç¤ºç²˜æ»žï¼ŒæŠŠæŽ¥å£å­¦ä¹ åˆ°çš„ç¬¬ä¸€ä¸ªmacåœ°å€ç²˜æ»žæˆä¸€æ¡å‘½ä»¤ç»“æžœ sw1#sho run int e2/0 Building configuration... Current configuration : 197 bytes ! interface Ethernet0/0 switchport mode access switchport port-security switchport port-security mac-address sticky switchport port-security mac-address sticky 0203.e900.0200 duplex auto end é€‰æ‹©è§¦å‘ç«¯å£å®‰å…¨æƒ©ç½šæ–¹å¼è‹¥è§¦å‘äº†ç«¯å£å®‰å…¨ï¼š 1.shutdownï¼ˆé»˜è®¤ï¼‰ 2.protectï¼ˆä¿æŠ¤ï¼‰ 3.restrictï¼ˆé™åˆ¶ï¼‰ sw1(config-if)#switchport port-security violation ? protect Security violation protect mode restrict Security violation restrict mode shutdown Security violation shutdown mode é»˜è®¤ï¼šç”±äºŽè§¦å‘äº†ç«¯å£å®‰å…¨ï¼Œå¯¼è‡´æŽ¥å£error-disable ï¼ˆshutdownï¼‰ï¼Œä¸èƒ½è‡ªåŠ¨æ¢å¤ï¼Œä¿æŠ¤å’Œé™åˆ¶éƒ½ä¼šä¸¢å¼ƒæœªæŽˆæƒmacåœ°å€çš„æ•°æ®å¸§ æŸ¥çœ‹æŽ¥å£æŽˆæƒMACåœ°å€ sw1#sho port-security address Secure Mac Address Table ------------------------------------------------------------------- Vlan Mac Address Type Ports Remaining Age (mins) ---- ----------- ---- ----- ------------- 1 0203.e900.0500 SecureSticky Et2/0 - ------------------------------------------------------------------- Total Addresses in System (excluding one mac per port) : 0 Max Addresses limit in System (excluding one mac per port) : 4096 é»˜è®¤æ¨¡å¼ç”±äºŽè§¦å‘äº†ç«¯å£å®‰å…¨ï¼Œå¯¼è‡´æŽ¥å£error-disable ï¼ˆshutdownï¼‰ï¼Œä¸èƒ½è‡ªåŠ¨æ¢å¤ï¼Œåˆ™æœ‰ä¸¤ç§å¯ç”¨æ–¹å¼:1.shutdownæŽ¥å£ no shutdown2.å¼€å¯err-disableé’ˆå¯¹ç«¯å£å®‰å…¨å¯¼è‡´çš„è‡ªåŠ¨æ¢å¤sw1(config)#errdisable recovery cause psecure-violationè®¾ç½®æ¢å¤é—´éš”ï¼ˆé»˜è®¤è‡ªåŠ¨æ¢å¤300sï¼‰sw1(config)#errdisable recovery interval 30æŸ¥çœ‹ï¼ˆéƒ¨åˆ†ï¼‰ sw1#sho errdisable recovery Recovery Status Timer Status --------------- ------------ psecure-violation Enabled Timer interval: 30 seconds æŸ¥çœ‹ sw1#sho port-security Secure Port MaxSecureAddr CurrentAddr SecurityViolation Security Action (Count) (Count) (Count) --------------------------------------------------------------------------- Et2/0 1 1 0 Shutdown --------------------------------------------------------------------------- Total Addresses in System (excluding one mac per port) : 0 Max Addresses limit in System (excluding one mac per port) : 4096 VLAN é—´æ”»å‡»æ¦‚å¿µï¼šé»˜è®¤äº¤æ¢æœºæŽ¥å£æ¨¡å¼ä¸ºautoæˆ–desirable ï¼Œä¸»æœºæ¨¡æ‹Ÿäº¤æ¢æœºå‘ é€DTPåå•†å¸§ï¼Œå»ºç«‹trunké“¾è·¯ã€‚ å­¦ä¹ äº¤æ¢ç½‘ç»œä¸­çš„æŸäº›é‡è¦ä¿¡æ¯ï¼Œå‘é€ VTP/BPDUç­‰ä¿¡æ¯å¹²æ¶‰äº¤æ¢ç½‘ç»œå·¥ä½œ è§£å†³æ–¹æ¡ˆï¼šå°†è¿žæŽ¥ç”¨æˆ·çš„æŽ¥å£è®¾ç½®ä¸º access æŽ¥å£sw1(config-if)#switchport mode accessåœ¨trunk é“¾è·¯ä¸­é’ˆå¯¹Native æ‰“æ ‡è®°.sw1(config)#vlan dot1q tag native ç§æœ‰VLANPrivate VLAN ï¼šç§æœ‰Primary VLAN ï¼šä¸»VLANï¼ˆå¯ä»¥æœ‰nä¸ªè¾…åŠ©VLANï¼‰Secondary VLAN ï¼šè¾…åŠ©VLAN è¾…åŠ©VLANåˆ†ä¸ºä¸¤ç§ï¼š1.å›¢ä½“VLAN 2.å­¤ç«‹VLANä¸»VLANå¯ä»¥ä¸Žè¾…åŠ©VLANé€šä¿¡ï¼Œè¾…åŠ©VLANä¹‹é—´ä¸èƒ½é€šä¿¡ï¼Œå­¤ç«‹VLANä¹‹é—´ä¸èƒ½é€šä¿¡ï¼Œå›¢ä½“VLANå†…çš„ç”¨æˆ·å¯ä»¥é€šä¿¡ä¸»VLAN ï¼š æ··æ‚æŽ¥å£å›¢ä½“VLAN ï¼šå›¢ä½“ä¸»æœºæŽ¥å£å­¤ç«‹VLANï¼šå­¤ç«‹ä¸»æœºæŽ¥å£é…ç½®æ—¶å›¢ä½“å’Œå­¤ç«‹VLANçš„æŽ¥å£ç»Ÿä¸€ä¸ºä¸»æœºæŽ¥å£ä½¿ç”¨ç§æœ‰VLAN ï¼Œ VTPæ¨¡å¼å¿…é¡»ä¸ºé€æ˜Žæ¨¡å¼ã€‚é…ç½®è®¾ç½®ä¸ºé€æ˜Žæ¨¡å¼sw1(config)#vtp mode transparentåˆ›å»ºä¸¤ä¸ªè¾…åŠ©VLAN501ä¸ºå›¢ä½“VLANï¼Œ502ä¸ºå­¤ç«‹VLANsw1(config)#vlan 501sw1(config-vlan)#private-vlan communitysw1(config-vlan)#exisw1(config)#vlan 502sw1(config-vlan)#private-vlan isolatedsw1(config-vlan)#exiåˆ›å»ºVLAN100ä¸ºä¸»VLANsw1(config)#vlan 100sw1(config-vlan)#private-vlan primaryå°†VLAN501å’Œ502å…³è”åˆ°ä¸»VLAN100sw1(config-vlan)#private-vlan association 501-502å°†æŽ¥å£åˆ’å…¥ä¸»VLAN1.å®šä¹‰æŽ¥å£ä¸ºæ··æ‚æŽ¥å£sw1(config)#int e2/1sw1(config-if)#switchport mode private-vlan promiscuous2.æŽ¥å£åˆ’å…¥VLANsw1(config-if)#switchport private-vlan mapping 100 501-502å°†æŽ¥å£åˆ’å…¥è¾…åŠ©VLAN5011.å®šä¹‰æŽ¥å£ä¸ºä¸»æœºæŽ¥å£sw1(config)#int range ethernet 2/2-3sw1(config-if-range)#switchport mode private-vlan host2.æŽ¥å£åˆ’å…¥VLANsw1(config-if-range)#switchport private-vlan host-association 100 501å°†æŽ¥å£åˆ’å…¥è¾…åŠ©VLAN5021.å®šä¹‰æŽ¥å£ä¸ºä¸»æœºæŽ¥å£sw1(config)#int range ethernet 2/4-5sw1(config-if-range)#switchport mode private-vlan host2.æŽ¥å£åˆ’å…¥VLANsw1(config-if-range)#switchport private-vlan host-association 100 502æŸ¥çœ‹ï¼š sw1#sho vlan private-vlan Primary Secondary Type Ports ------- --------- ----------------- ------------------------------------------ 100 501 community Et2/1, Et2/2, Et2/3 100 502 isolated Et2/1, Et2/4, Et2/5 DHCP æ¬ºéª—æ”»å‡»æ¦‚å¿µï¼šDHCP æ¬ºéª—æ”»å‡»ï¼ˆspoofingï¼‰ï¼Œæ”»å‡»è€…æ¨¡æ‹Ÿä¸ºDHCPæœåŠ¡å™¨ï¼Œä¸‹å‘ä¸æ­£ç¡®çš„IPåœ°å€å’Œç½‘å…³çŽ°è±¡ï¼š R3(config-if)#do sho ip int b Interface IP-Address OK? Method Status Protocol Ethernet0/0 20.1.1.2 YES DHCP up up æŽ¥å£é‡æ–°shutdown no shutdownä¹‹åŽ é‡æ–°èŽ·å–åœ°å€ R3(config-if)#do sho ip int b Interface IP-Address OK? Method Status Protocol Ethernet0/0 10.1.1.2 YES DHCP up up è§£å†³æ–¹æ¡ˆï¼šDHCP snooping ä¿¡ä»»æŽ¥å£ï¼šæŽ¥æ”¶offer ackï¼ˆç”±æœåŠ¡å™¨å‘é€ï¼‰ è½¬å‘discover requestï¼ˆç”±ä¸»æœºå‘é€ï¼‰éžä¿¡ä»»æŽ¥å£ï¼šæŽ¥æ”¶discover request ï¼ˆç”±ä¸»æœºå‘é€ï¼‰ è½¬å‘ offer ackï¼ˆç”±æœåŠ¡å™¨å‘é€ï¼‰ å°†è¿žæŽ¥DHCP serveræŽ¥å£è®¾ç½®ä¸ºä¿¡ä»»ç«¯å£ï¼Œå…¶ä»–ä¸ºéžä¿¡ä»»æŽ¥å£ã€‚å°†äº¤æ¢æœºè®¾ç½®ä¸ºè·¯ç”±å™¨ä¿¡ä»»çš„ä¸­ç»§ä»£ç†ã€‚éƒ¨ç½²ï¼šå¼€å¯DHCP snoopingSW1(config)#ip dhcp snoopingé’ˆå¯¹æŸäº›VLANå¼€å¯snoopingSW1(config)#ip dhcp snooping vlan 1è®¾ç½®æŽ¥å£ä¸ºä¿¡ä»»æŽ¥å£SW1(config)#int e2/1SW1(config-if)#ip dhcp snooping truståœ¨DHCP severä¸Šå¼€å¯é’ˆå¯¹DHCPä¸­ç»§ä¿¡æ¯ä¿¡ä»»R1(config)#ip dhcp relay information trust-allæŸ¥çœ‹ SW1#sho ip dhcp snooping binding MacAddress IpAddress Lease(sec) Type VLAN Interface ------------------ --------------- ---------- ------------- ---- ------------ 000a.0000b.000c 10.1.1.2 86342 dhcp-snooping 1 Ethernet2/1 Total number of bindings: 1 ç”±äºŽäºŒå±‚äº¤æ¢æœºè§£æžé«˜å±‚ï¼ˆdhcpä½¿ç”¨udpåè®®ï¼Œåº”ç”¨å±‚ï¼‰æ€§èƒ½è¾ƒå¼±ï¼Œæ”»å‡»è€…ä¼šå‘äº¤æ¢æœºå‘é€é«˜é¢‘çŽ‡çš„discoveryæŠ¥æ–‡ï¼Œå¯¼è‡´äº¤æ¢æœºç˜«ç—ªè§£å†³åŠžæ³•ï¼šå®šä¹‰éžä¿¡ä»»æŽ¥å£æŽ¥æ”¶dhcpæ¶ˆæ¯åŒ…çš„é¢‘çŽ‡SW1(config)#int range e2/2-3SW1(config-if-range)#ip dhcp snooping limit rate 2è‹¥è¶…è¿‡æ­¤é€ŸçŽ‡ï¼Œä¼šå¯¼è‡´æŽ¥å£error-disable ï¼ˆshutdownï¼‰ ARPæ¬ºéª—æ”»å‡»æ¦‚å¿µï¼šä¸»æœºå‘é€å¤§é‡IPåœ°å€å˜åŒ–çš„æ— æ•…ARPï¼Œä½¿ç½‘æ®µä¸­æ‰€æœ‰ä¸»æœºå­¦ä¹ å¤§é‡IPåœ°å€ çš„ARPæ˜ å°„éƒ½ä¸ºæ”»å‡»è€…ï¼Œå¯¼è‡´ç½‘ç»œç˜«ç—ª è§£å†³æ–¹æ¡ˆï¼š1.é™æ€ARPæ˜ å°„ï¼ˆä¸´æ—¶è§£å†³æ–¹æ¡ˆï¼‰2.DAIï¼ˆDynamic ARP Intercept åŠ¨æ€ARPæˆªå– ï¼‰å¿…é¡»ä¾èµ–DHCP snooping ä¸­æ‰€äº§ç”ŸDHCP Snooping bindingè¡¨.è‹¥æ”»å‡»è€…çš„IPåœ°å€å’ŒDHCP Snooping bindingè¡¨ä¸­macåœ°å€æ‰€å¯¹åº”çš„IPåœ°å€ä¸ä¸€è‡´ï¼Œåˆ™shutdownè¯¥æŽ¥å£éƒ¨ç½²ï¼šå…¨å±€å¯ç”¨ARPæˆªå–SW1(config)#ip arp inspection vlan 1è¿žæŽ¥ç½‘å…³ã€server ç­‰è®¾å¤‡è®¾ç½®ä¸ºä¿¡ä»»æŽ¥å£SW1(config)#int e2/1SW1(config-if)#ip arp inspection trust]]></content>
      <categories>
        <category>CCNP</category>
      </categories>
      <tags>
        <tag>CCNP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spanning Tree å¢žå¼º]]></title>
    <url>%2Fpost%2F9029880a.html</url>
    <content type="text"><![CDATA[ä¸æ˜¯ä¸åšï¼Œæ—¶å€™æœªåˆ°ã€‚ Spanning Tree å¢žå¼ºportfast ç«¯å£åŠ é€Ÿ é’ˆå¯¹äº¤æ¢æœºçš„accessæŽ¥å£ï¼Œè¿žæŽ¥çš„æ˜¯ç»ˆç«¯ç”¨æˆ·ä¾‹å¦‚routerã€PCã€server ç­‰ç­‰ï¼Œè¿™äº›ä¸éœ€è¦è¿è¡Œç”Ÿæˆæ ‘çš„æŽ¥å£ã€‚ æŽ¥å£é»˜è®¤è¿›å…¥listeningçŠ¶æ€ï¼Œç­‰å¾… 30sæ‰èƒ½è¿›å…¥è½¬å‘çŠ¶æ€. ä½ç½®ï¼šæŽ¥å…¥å±‚äº¤æ¢æœºçš„access æŽ¥å£ åšå®Œä¹‹åŽèŠ‚çº¦æ—¶é—´ï¼š30s é…ç½®sw1(config)#int range ethernet 2/0-1sw1(config-if-range)#spanning-tree portfastæç¤ºï¼š %Warning: portfast should only be enabled on ports connected to a single host. Connecting hubs, concentrators, switches, bridges, etc... to this interface when portfast is enabled, can cause temporary bridging loops. Use with CAUTION %Portfast will be configured in 2 interfaces due to the range command but will only have effect when the interfaces are in a non-trunking mode. æ³¨æ„ï¼šä¸åŒåž‹å·çš„äº¤æ¢æœºå‘½ä»¤ç¨æœ‰ä¸åŒ å…¨å±€å¯ç”¨ï¼šsw1(config)#spanning-tree portfast edge default åœ¨æŸäº›æŽ¥å£ä¸Šå…³é—­portfastsw1(config)#int e0/1sw1(config-if)#spanning-tree portfast disable åœ¨trunkæŽ¥å£å¯ç”¨portfastï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼ŒæŽ¥å£ä¸€æ—¦æ”¶åˆ°BPDUï¼Œportfast å¤±æ•ˆï¼‰sw1(config)#int e0/1sw1(config-if)#spanning-tree portfast edge trunk uplinkfast ä¸Šè¡Œé“¾è·¯åŠ é€Ÿ è‹¥ä¸Šè¡Œé“¾è·¯å‘é€æ•…éšœï¼Œé˜»å¡žç«¯å£è¿›å…¥listening çŠ¶æ€ï¼Œé»˜è®¤ç­‰å¾…30sè¿› å…¥forwarding ä½ç½®ï¼šæ‰€æœ‰çš„æŽ¥å…¥å±‚äº¤æ¢æœºä¸Š èŠ‚çº¦æ—¶é—´30s é…ç½®é¦–å…ˆå°†sw1ï¼Œsw2ï¼Œsw3ä¸Šçš„e0/0-3ï¼Œe1/0-1å…³é—­ï¼Œç„¶åŽæ‰“å¼€sw1ä¸Šçš„e0/0ï¼Œe0/2ï¼Œsw2ä¸Šçš„e0/0ï¼Œe1/0ï¼Œsw3ä¸Šçš„e0/2ï¼Œe1/0åˆ™sw1ä¸ºæ ¹ç½‘æ¡¥ï¼Œsw1æŽ¥å£å…¨ä¸ºåˆ¶å®šç«¯å£ï¼Œsw2ä¸Še0/0ä¸ºæ ¹ç«¯å£ï¼Œe1/0ä¸ºæŒ‡å®šç«¯å£ï¼Œsw3ä¸Še0/2ä¸ºæ ¹ç«¯å£ï¼Œe1/0ä¸ºé˜»å¡žç«¯å£ç»“æžœ sw1 Interface Role Sts Cost Prio.Nbr Type ------------------- ---- --- --------- -------- -------------------------------- Et0/0 Desg FWD 100 128.1 Shr Et0/2 Desg FWD 100 128.3 Shr sw2 Interface Role Sts Cost Prio.Nbr Type ------------------- ---- --- --------- -------- -------------------------------- Et0/0 Root FWD 100 128.1 Shr Et1/0 Desg FWD 100 128.33 Shr sw3 Interface Role Sts Cost Prio.Nbr Type ------------------- ---- --- --------- -------- -------------------------------- Et0/2 Root FWD 100 128.3 Shr Et1/0 Altn BLK 100 128.33 Shr æ‰“å¼€sw3çš„debugsw3#debug spanning-tree events Spanning Tree event debugging is on å…³é—­sw3ä¸Še0/2ï¼Œå³downæŽ‰sw3åˆ°sw1çš„ä¸Šè¡Œé“¾è·¯sw3(config)#int e0/2sw3(config-if)#shu ç»“æžœï¼šå¯ä»¥çœ‹åˆ°e1/0ç«¯å£ç«‹å³è¿›å…¥listeningçŠ¶æ€ï¼Œéšå³15ç§’åŽè¿›å…¥learningï¼Œå†15ç§’è¿›å…¥forwardingï¼Œå³e1/0é˜»å¡žç«¯å£æˆä¸ºæ ¹ç«¯å£è½¬å‘æ•°æ®ï¼Œæ•´ä¸ªè¿‡ç¨‹ç”¨äº†30s sw3(config-if)# *Nov 24 22:16:35.014: STP: VLAN0001 new root port Et1/0, cost 200 *Nov 24 22:16:35.014: STP: VLAN0001 Et1/0 -&gt; listening *Nov 24 22:16:35.014: STP[1]: Generating TC trap for port Ethernet0/2 sw3(config-if)# *Nov 24 22:16:37.018: %LINK-5-CHANGED: Interface Ethernet0/2, changed state to administratively down sw3(config-if)# *Nov 24 22:16:37.018: STP: VLAN0001 sent Topology Change Notice on Et1/0 *Nov 24 22:16:38.026: %LINEPROTO-5-UPDOWN: Line protocol on Interface Ethernet0/2, changed state to down sw3(config-if)# *Nov 24 22:16:50.018: STP: VLAN0001 Et1/0 -&gt; learning sw3(config-if)# *Nov 24 22:17:05.018: STP[1]: Generating TC trap for port Ethernet1/0 *Nov 24 22:17:05.018: STP: VLAN0001 sent Topology Change Notice on Et1/0 *Nov 24 22:17:05.018: STP: VLAN0001 Et1/0 -&gt; forwarding æ‰“å¼€e0/2ç«¯å£ç„¶åŽåšuplinkfastsw3(config)#spanning-tree uplinkfast å˜åŒ–ï¼šæ„æ€ä»–è¦ç¦»æ ¹ç½‘æ¡¥è¿œä¸€ç‚¹ï¼Œä¸€èˆ¬æœ€åº•å±‚çš„æŽ¥å…¥å±‚äº¤æ¢æœºæ‰åš æ˜¾ç¤º Uplinkfast enabled ä¼˜å…ˆçº§å˜ä¸º priority 49152 32768+4*4096=49152 costå€¼å¢žåŠ 3000 å†æ¬¡å…³é—­e0/2ç«¯å£ç»“æžœ *Nov 24 23:04:45.790: %SPANTREE_FAST-7-PORT_FWD_UPLINK: VLAN0001 Ethernet1/0 moved to Forwarding (UplinkFast). è¡¨ç¤ºe1/0å£ç›´æŽ¥æˆä¸ºæ ¹ç«¯å£è½¬å‘æ•°æ® Interface Role Sts Cost Prio.Nbr Type ------------------- ---- --- --------- -------- -------------------------------- Et1/0 Root FWD 3100 128.33 Shr å…¨å±€æ¨¡å¼Spanning tree uplinkfast rata-limit 100 ï¼ˆå•ä½æ•°æ®åŒ…æ¯ç§’ï¼‰å¼€å§‹sw3ä¸Šçš„e1/0æŽ¥å£æ˜¯é˜»å¡žçš„ï¼Œé€šè¿‡e0/2æŽ¥å£å­¦ä¹ macåœ°å€è½¬å‘æ•°æ®ï¼Œè‹¥e0/2 downæŽ‰ï¼Œåˆ™e1/0æˆä¸ºæ ¹ç«¯å£è½¬å‘æ•°æ®ï¼Œæ­¤æ—¶sw2ä¸Šåˆ™éœ€è¦å­¦ä¹ sw3ä¸Šå¤§é‡çš„macåœ°å€ï¼Œä¸ºäº†åšå¥½åˆ‡æ¢è¿‡ç¨‹ï¼Œåšäº†å…¨å±€uplinkfaståŽï¼Œåœ¨e0/2æœªdownä¹‹å‰ä¼šé€šè¿‡e1/0é˜»å¡žç«¯å£å‘ä¸Šå‘é€ä¼ªåŒ…ï¼Œä¸ºäº†è®©sw2å­¦ä¹ sw3ä¸Šçš„macåœ°å€ï¼Œåˆ™è‹¥e0/2 downæŽ‰ï¼Œe1/0æˆä¸ºæ ¹ç«¯å£åŽå¯ä»¥ç›´æŽ¥è½¬å‘æ•°æ®ã€‚ backbonefast éª¨å¹²åŠ é€Ÿ è‹¥éª¨å¹²é“¾è·¯å‘ç”Ÿæ•…éšœï¼Œä¸‹è¡Œé“¾è·¯ç»è¿‡50sè¿›å…¥forwardingçŠ¶æ€ï¼› å¯ç”¨backbonefastç‰¹æ€§ï¼Œè‹¥æ”¶åˆ°æ¬¡çº§BPDUï¼Œé€šè¿‡æ ¹ç«¯å£å‘æ ¹ç½‘æ¡¥å‘é€ RIQæŸ¥è¯¢ï¼ˆè¯¢é—®ä¼˜è´¨æ ¹æ˜¯å¦æ­£å¸¸ï¼‰ï¼Œè‹¥æ­£å¸¸ç”±æ ¹ç½‘æ¡¥è¿”å›žRIQåº”ç­”ï¼Œæ è¿°æ ¹æ­£å¸¸ï¼Œåˆ™blockingæŽ¥å£è¿›å…¥listeningçŠ¶æ€ï¼Œç»è¿‡30sè¿›å…¥forwarding. éƒ¨ç½²ä½ç½®ï¼šæ‰€æœ‰äº¤æ¢æœº èŠ‚çº¦æ—¶é—´ï¼š20s å¯ç”¨backbonefastç‰¹æ€§é‡æ–°æ‰“å¼€sw3çš„e0/2æŽ¥å£ï¼Œåˆ™e0/2é‡æ–°æˆä¸ºæ ¹ç«¯å£ï¼Œe1/0ä¸ºé˜»å¡žç«¯å£è‹¥downæŽ‰sw1è¿žæŽ¥sw2çš„éª¨å¹²é“¾è·¯ï¼ˆå…³é—­sw2çš„e0/0ï¼‰ï¼Œåˆ™sw3çš„e1/0æŽ¥å£æˆä¸ºæŒ‡å®šç«¯å£ï¼Œsw2çš„e1/0æˆä¸ºæ ¹ç«¯å£ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­sw3çš„e1/0æŽ¥å£æˆä¸ºæŒ‡å®šç«¯å£éœ€è¦ç»è¿‡50s sw3(config-if)# *Nov 24 23:35:02.798: STP: VLAN0001 heard root 28673-0203.e900.0200 on Et1/0 sw3(config-if)# *Nov 24 23:35:03.966: STP: VLAN0001 Et1/0 -&gt; listening *Nov 24 23:35:04.798: STP: VLAN0001 heard root 28673-0203.e900.0200 on Et1/0 *Nov 24 23:35:04.798: STP: VLAN0001 Topology Change rcvd on Et1/0 *Nov 24 23:35:04.798: STP: VLAN0001 sent Topology Change Notice on Et0/2 sw3(config-if)# *Nov 24 23:35:18.974: STP: VLAN0001 Et1/0 -&gt; learning sw3(config-if)# *Nov 24 23:35:33.974: STP[1]: Generating TC trap for port Ethernet1/0 *Nov 24 23:35:33.974: STP: VLAN0001 sent Topology Change Notice on Et0/2 *Nov 24 23:35:33.974: STP: VLAN0001 Et1/0 -&gt; forwarding *Nov 24 23:35:33.974: stp_state_change_completed: Et1/0. new state = FWD è¯¦è§£ï¼šéª¨å¹²é“¾è·¯æ–­å¼€åŽï¼Œsw2ä¸èƒ½æ”¶åˆ°sw1çš„BPDUï¼Œæ‰€ä»¥sw2å°±ä»¥ä¸ºè‡ªå·±æ˜¯æ ¹ç½‘æ¡¥ï¼Œåˆ™sw2ä¼šå‘sw3å‘é€BPDUï¼ˆæ­¤BPDUä¸Žä¹‹å‰å‘sw3å‘é€çš„ä¸ä¸€æ ·ï¼Œä¹‹å‰å‘é€çš„ridæ˜¯sw1ï¼Œbidæ˜¯sw2è‡ªå·±ï¼ŒçŽ°åœ¨å‘é€çš„ridå’Œbidéƒ½æ˜¯sw2è‡ªå·±ï¼‰ï¼Œæ­¤æ—¶sw3é€šè¿‡sw1æ”¶åˆ°çš„BPDUï¼Œridè¦ä¼˜äºŽsw2å‘é€çš„ï¼ˆç§°sw2çš„ä¸ºæ¬¡çº§BPDUï¼‰ï¼Œæ•…sw3ä¼šå¿½ç•¥sw2å‘é€çš„BPDUï¼Œä½†sw3çš„é˜»å¡žç«¯å£e1/0ä¼šä¸€ç›´ç›‘å¬sw2å‘æ¥çš„BPDUï¼Œä¹‹å‰ä¸€ç›´æ”¶åˆ°çš„æ˜¯æ¥è‡ªäºŽæ ¹ç½‘æ¡¥çš„BPDUï¼ŒçŽ°åœ¨ä¸èƒ½æ”¶åˆ°æ¥è‡ªäºŽæ ¹ç½‘æ¡¥çš„BPDUäº†ï¼Œè¶…æ—¶æ—¶é—´20sï¼Œåˆ™sw3çš„e1/0ç«¯å£ä¼šè¿›å…¥listeningçŠ¶æ€ï¼Œå‘Šè¯‰sw2æ ¹ç½‘æ¡¥è¿˜æ´»ç€ï¼ˆå‘sw2å‘é€ä¼˜è´¨BPDUï¼‰ï¼Œç›´åˆ°è¿›å…¥forwardingï¼Œæ•´ä¸ªè¿‡ç¨‹éœ€è¦50s backbonefastå»ºè®®åœ¨æ‰€æœ‰äº¤æ¢æœºéƒ½åšéª¨å¹²é“¾è·¯æ–­å¼€ä¹‹åŽï¼Œsw2ä¼šå‘sw3å‘é€æ¬¡çº§BPDUï¼Œsw3ä¼šå¿½ç•¥ï¼Œåšäº†backbonefaståŽï¼Œæ”¶åˆ°æ¬¡çº§BPDUåŽï¼Œsw3ä¼šä¸»åŠ¨å‘æ ¹ç½‘æ¡¥å‘é€æ ¹é“¾è·¯æŸ¥è¯¢è¯·æ±‚æŠ¥æ–‡ï¼ˆRLQ requestï¼‰ ï¼Œæ ¹ç½‘æ¡¥ä¼šå›žå¤æ ¹é“¾è·¯æŸ¥è¯¢å“åº”æŠ¥æ–‡ï¼ˆRLQ responseï¼‰ï¼Œsw3çŸ¥é“sw2æ”¶ä¸åˆ°æ ¹ç½‘æ¡¥å‘é€çš„BPDUï¼Œä»¥ä¸ºè‡ªå·±æ˜¯æ ¹ç½‘æ¡¥äº†ï¼Œæ‰€ä»¥sw3çš„e1/0æŽ¥å£ç›´æŽ¥è¿›å…¥listeningçŠ¶æ€ï¼Œå‘Šè¯‰sw2æ ¹ç½‘æ¡¥è¿˜æ´»ç€ï¼ˆå‘sw2å‘é€ä¼˜è´¨BPDUï¼‰ï¼Œç›´åˆ°è¿›å…¥forwardingï¼Œæ•´ä¸ªè¿‡ç¨‹éœ€è¦30sï¼ŒèŠ‚çº¦äº†20sã€‚é‡æ–°æ‰“å¼€sw2çš„e0/0ç«¯å£é…ç½®sw1(config)#spanning-tree backbonefastsw2(config)#spanning-tree backbonefastsw3(config)#spanning-tree backbonefastå…³é—­sw2çš„e0/0ç«¯å£ç»“æžœ sw3(config)# *Nov 25 00:07:22.998: STP: VLAN0001 heard root 28673-0203.e900.0200 on Et1/0 *Nov 25 00:07:22.998: STP: VLAN0001 Et1/0 -&gt; listening å¯çŸ¥sw3çš„e1/0ç«¯å£ç«‹å³è¿›å…¥listeningçŠ¶æ€ã€‚ æ ¹ç«¯å£ï¼šroot port RPæŒ‡å®šç«¯å£ï¼šDPé˜»å¡žç«¯å£ï¼šNDP]]></content>
      <categories>
        <category>CCNP</category>
      </categories>
      <tags>
        <tag>CCNP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[C++å¤ä¹ é‡ç‚¹]]></title>
    <url>%2Fpost%2F8b042bec.html</url>
    <content type="text"><![CDATA[ä¸æ˜¯ä¸åšï¼Œæ—¶å€™æœªåˆ°ã€‚ C++é‡ç‚¹ å‡½æ•°é‡è½½å¿…é¡»æœ‰ä¸åŒçš„å½¢å‚åˆ—è¡¨ æžæž„å‡½æ•°å¯ä»¥æ˜¯è™šå‡½æ•° å…·æœ‰çº¯è™šå‡½æ•°çš„ç±»ä¸èƒ½åˆ›å»ºç±»å¯¹è±¡ é™æ€æ•°æ®æˆå‘˜æ˜¯ç±»çš„æ‰€æœ‰å¯¹è±¡å…±äº«çš„æ•°æ® å°†ä¸€ç»„å¯¹è±¡çš„å…±åŒç‰¹å¾æŠ½è±¡å‡ºå½¢æˆç±» friend void B::fun(); //Bçš„æˆå‘˜å‡½æ•°fun()è¯´æ˜Žä¸ºAçš„å‹å…ƒå‡½æ•° å¦‚æžœä¸€ä¸ªå¼•ç”¨ä¸æ˜¯ç”¨ä½œå‡½æ•°å‚æ•°æˆ–è¿”å›žå€¼ï¼Œåˆ™åœ¨è¯´æ˜Žè¯¥å¼•ç”¨æ—¶å¿…é¡»è¿›è¡Œ åˆå§‹åŒ– const double pi = 3.141592653589793 ; int operator++(int x); // ++è¿ç®—ç¬¦é‡è½½ åŠ¨æ€è”ç¼–é€šè¿‡åŸºç±»æŒ‡é’ˆæˆ–å¼•ç”¨è°ƒç”¨è™šå‡½æ•°å®Œæˆ æž„é€ å‡½æ•°è®¿é—®æƒé™æ˜¯å…¬æœ‰çš„ åŸºç±»å¯¹è±¡çš„åœ°å€ä¸èƒ½èµ‹ç»™æ´¾ç”Ÿç±» åˆ›å»ºå¯¹è±¡æ—¶ test(2); è¡¨ç¤ºåˆ›å»ºä¸€ä¸ªå¯¹è±¡å¹¶èµ‹å€¼2 test[2]; è¡¨ç¤ºåˆ›å»ºä¸¤ä¸ªå¯¹è±¡ï¼Œå¹¶ä¸”å€¼ä¸ºé»˜è®¤å€¼ mainå‡½æ•°æ‰§è¡Œå®Œæ¯•ä¹‹åŽæ‰æ‰§è¡Œæžæž„å‡½æ•°ï¼Œæ¯ä¸ªå¯¹è±¡æžæž„ä¸€æ¬¡ åˆ›å»ºå¯¹è±¡æ—¶ï¼Œç±»aè¢«è°ƒç”¨ä¸€æ¬¡ï¼Œæ‰§è¡Œç±»aé‡Œçš„å‡½æ•°æ—¶ï¼Œç±»aåˆè¢«è°ƒç”¨ä¸€æ¬¡ cç»§æ‰¿bï¼Œcç±»å†…å¯¹aèµ‹å€¼ï¼Œåˆ›å»ºcç±»å¯¹è±¡æ—¶ å…ˆè°ƒç”¨ç±»bï¼Œå†è°ƒç”¨ç±»aï¼Œæœ€åŽè°ƒç”¨cç±»æœ¬èº«ã€‚ åœ¨å‡½æ•°æ¨¡æ¿çš„å‚æ•°ä¸­ï¼Œç”¨classä¿®é¥°çš„å‚æ•°ç§°ä¸ºè™šæ‹Ÿç±»åž‹å‚æ•° ä»¥é¢å‘å¯¹è±¡æ–¹æ³•æž„é€ çš„ç³»ç»Ÿï¼Œå…¶åŸºæœ¬å•ä½æ˜¯å¯¹è±¡ å¯¹è±¡æ˜¯ç±»çš„ä¸€ä¸ªå®žåˆ— å¯¹è±¡å°†å…¶å¤§éƒ¨åˆ†ç»†èŠ‚éšè—èµ·æ¥ï¼Œè¿™ç§æœºåˆ¶ç§°ä¸ºå°è£… å¤æ‚å¯¹è±¡å¯ä»¥ç”±ç®€å•å¯¹è±¡æž„æˆï¼Œç§°ä¸ºèšåˆ C++æ”¯æŒç¼–è¯‘æ—¶çš„å¤šæ€æ€§å’Œè¿è¡Œæ—¶çš„å¤šæ€æ€§ C++ä¸­ï¼Œç¼–è¯‘æ—¶çš„å¤šæ€æ€§æ˜¯é€šè¿‡é‡è½½å®žçŽ°ï¼Œè¿è¡Œæ—¶çš„å¤šæ€æ€§é€šè¿‡è™šå‡½æ•°å®žçŽ° ä¸‰ä¸ªé˜¶æ®µï¼šåˆ†æžï¼Œè®¾è®¡ï¼Œå®žçŽ° è‹¥åœ¨ç±»çš„å®šä¹‰ä½“ä¸­ç»™å‡ºäº†ä¸€ä¸ªæˆå‘˜å‡½æ•°çš„å®Œæ•´å®šä¹‰ï¼Œåˆ™è¯¥å‡½æ•°å±žäºŽå†…è”å‡½æ•° æŠŠä¸€ä¸ªç±»çš„å®šä¹‰ä½“å’Œæ‰€æœ‰æˆå‘˜å‡½æ•°çš„å®šä¹‰ä½“æ‰€æž„æˆçš„ç¨‹åºèŒƒå›´å«åšè¯¥ç±»çš„ä½œç”¨åŸŸ å¯¹ç±»ä¸­å¯¹è±¡æˆå‘˜çš„åˆå§‹åŒ–æ˜¯é€šè¿‡åœ¨æž„é€ å‡½æ•°ä¸­ç»™å‡ºçš„åˆå§‹åŒ–è¡¨å®žçŽ°çš„ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æž„é€ å‡½æ•°ä¸­çš„å‡½æ•°ä½“å®žçŽ° å¯¹ç±»ä¸­å¯¹è±¡æˆå‘˜å’Œå¸¸é‡æˆå‘˜å’Œå¼•ç”¨æˆå‘˜çš„åˆå§‹åŒ–æ˜¯é€šè¿‡æž„é€ å‡½æ•°ç»™å‡ºçš„åˆå§‹åŒ–è¡¨å®žçŽ°çš„ ABä¸ºä¸€ä¸ªç±»ï¼Œ AB(AB&amp; x); ä¸ºç±»ABçš„æ‹·è´æž„é€ å‡½æ•° é‡è½½è¿ç®—ç¬¦æ—¶ï¼Œè¯¥è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§ï¼Œç»“åˆæ€§ï¼Œæ“ä½œç¬¦çš„ä¸ªæ•°ä¸å…è®¸æ”¹å˜ï¼Œä¸èƒ½åˆ›å»ºæ²¡æœ‰çš„è¿ç®—ç¬¦ å•ç›®è¿ç®—ç¬¦ä½œä¸ºç±»çš„æˆå‘˜å‡½æ•°é‡è½½æ—¶æœ‰0ä¸ªå‚æ•°ï¼Œç‹¬ç«‹å‡½æ•°é‡è½½æ—¶æœ‰1ä¸ªå‚æ•°ã€‚åŒç›®è¿ç®—ç¬¦ä½œä¸ºç±»çš„æˆå‘˜å‡½æ•°é‡è½½æ—¶æœ‰1ä¸ªå‚æ•°ï¼Œç‹¬ç«‹å‡½æ•°é‡è½½æ—¶æœ‰2ä¸ªå‚æ•°ã€‚èµ‹å€¼è¿ç®—ç¬¦ä¸èƒ½è¢«æ´¾ç”Ÿç±»ç»§æ‰¿ è™šåŸºç±»æ˜¯ä¸ºäº†æ¶ˆé™¤äºŒä¹‰æ€§ åœ¨æ¯ä¸ªæˆå‘˜å‡½æ•°ä¸­ï¼Œéšå«çš„ç¬¬ä¸€ä¸ªå‚æ•°çš„å‚æ•°åä¸ºthis éšå«çš„ç¬¬ä¸€ä¸ªå‚æ•°ç±»åž‹ä¸º ç±»å* ä¿è¯ä¸€ä¸ªå…¬å…±çš„åŸºç±»åœ¨æ´¾ç”Ÿç±»ä¸­åªäº§ç”Ÿä¸€ä¸ªåŸºç±»å­å¯¹è±¡ï¼Œåˆ™å¿…é¡»éƒ½ä»¥è™šåŸºç±»çš„æ–¹å¼ç›´æŽ¥ç»§æ‰¿å®ƒã€‚ Bç±»ç»§æ‰¿Aç±»ï¼Œç”¨Bç±»åˆ›å»ºå¯¹è±¡åŽï¼Œå…ˆæžæž„Bç±»ï¼Œåœ¨æžæž„Aç±» ç”¨æˆ·å¯ä»¥é‡æ–°å®šä¹‰æ ‡å‡†åº“å‡½æ•°ï¼Œè‹¥å¦‚æ­¤ï¼Œè¯¥å‡½æ•°å°†å¤±åŽ»åŽŸæœ‰å«ä¹‰ å¼•ç”¨è°ƒç”¨æ˜¯ å½¢å‚æ˜¯å¼•ç”¨ï¼Œå®žå‚æ˜¯å˜é‡ å‡½æ•°è°ƒç”¨ä¸å¯ä»¥ä½œä¸ºä¸€ä¸ªå‡½æ•°çš„å½¢å‚ æˆå‘˜å‡½æ•°é‡è½½æ˜¯ä¸ºäº†ä½¿ç”¨æ–¹ä¾¿ï¼Œæé«˜å¯è¯»æ€§å’Œçµæ´»æ€§ void *ä¸ºæ— ç±»åž‹æŒ‡é’ˆï¼Œèƒ½å¤ŸæŒ‡å‘ä¸è®ºä»€ä¹ˆæ•°æ®ç±»åž‹ï¼Œå¯ä»¥ç”¨éšæ„æ•°æ®ç±»åž‹çš„æŒ‡é’ˆå¯¹voidæŒ‡é’ˆèµ‹å€¼ é¢å‘å¯¹è±¡æ–¹æ³•çš„å¤šæ€æ€§æ˜¯æŒ‡é’ˆå¯¹ä¸€æ¶ˆæ¯ï¼Œä¸åŒçš„å¯¹è±¡å¯ä»¥ä»¥é€‚åˆè‡ªèº«çš„æ–¹å¼åŠ ä»¥å“åº” OOAï¼šé¢å‘å¯¹è±¡åˆ†æžï¼ˆanalysisï¼‰ OODï¼šé¢å‘å¯¹è±¡è®¾è®¡ï¼ˆdesignï¼‰ ç±»ä¸­å®šä¹‰çš„æˆå‘˜é»˜è®¤ä¸ºprivateè®¿é—®å±žæ€§ï¼Œç»“æž„ä¸­å®šä¹‰çš„æˆå‘˜é»˜è®¤ä¸ºpublicè®¿é—®å±žæ€§ ä¸€ä¸ªç±»çš„é™æ€æ•°æ®æˆå‘˜æ‰€è¡¨ç¤ºå±žæ€§åªæ˜¯ç±»çš„å±žæ€§ é™æ€æˆå‘˜å‡½æ•°åªå…è®¸æ“ä½œé™æ€æˆå‘˜å˜é‡ï¼Œä¸å…è®¸æ“ä½œéžé™æ€æˆå‘˜å˜é‡ é™æ€æ•°æ®æˆå‘˜çš„åˆå§‹åŒ–æ˜¯åœ¨å…¨å±€åŒºä¸­è¿›è¡Œçš„ ç±»Aæ˜¯ç±»Bçš„å‹å…ƒç±»ï¼Œç±»Açš„æ‰€æœ‰æˆå‘˜å‡½æ•°éƒ½å¯ä»¥è®¿é—®ç±»Bçš„æ‰€æœ‰æˆå‘˜ã€‚ ä¸€ä¸ªç±»çš„å‹å…ƒä¸æ˜¯è¯¥ç±»çš„æˆå‘˜ï¼Œä½†ä¸Žè¯¥ç±»çš„å…³ç³»å¯†åˆ‡ï¼Œæ‰€ä»¥ä»–æ²¡æœ‰thisæŒ‡é’ˆï¼Œä¹Ÿå°±æ²¡æœ‰é»˜è®¤æ“ä½œçš„å¯¹è±¡ a++ä¸­çš„++æ˜¯ä½œä¸ºæ™®é€šå‡½æ•°é‡è½½çš„è¿ç®—ç¬¦ï¼Œåˆ™è°ƒç”¨æ ¼å¼å¯ä»¥æ˜¯operator++(a,1)++aä¸­çš„++æ˜¯ä½œä¸ºæˆå‘˜å‡½æ•°é‡è½½çš„è¿ç®—ç¬¦ï¼Œåˆ™è°ƒç”¨æ ¼å¼å¯ä»¥æ˜¯a.operator++()]]></content>
      <categories>
        <category>å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>å­¦ä¹ </tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Spanning Tree]]></title>
    <url>%2Fpost%2Fa3fe09f4.html</url>
    <content type="text"><![CDATA[ä¸æ˜¯ä¸åšï¼Œæ—¶å€™æœªåˆ°ã€‚ Spanning Tree ç”Ÿæˆæ ‘ç›®çš„ï¼šäº¤æ¢æœºä¹‹é—´å­˜åœ¨å†—ä½™ï¼ˆå¤‡ä»½ï¼‰è·¯å¾„ï¼Œä»¥åŠäº¤æ¢æœºçš„æ³›æ´ªæœºåˆ¶ï¼Œå¯¼è‡´äº¤æ¢æœºä¹‹é—´äº§ç”Ÿ äºŒå±‚äº¤æ¢çŽ¯è·¯ã€‚ é€ æˆå½±å“ï¼š1.å¹¿æ’­é£Žæš´ï¼ˆæ•°æ®åœ¨ä¸¤ä¸ªæˆ–å¤šä¸ªäº¤æ¢æœºä¹‹é—´å¤§é‡é‡å¤ä¼ é€’ï¼‰2.MACåœ°å€è¡¨ä¸ç¨³å®š ï¼ˆäº¤æ¢æœºä¼šå°†æŸä¸ªä¸»æœºçš„macåœ°å€é‡å¤åˆ é™¤å’Œå­¦ä¹ ï¼‰3.æ•°æ®å¸§çš„é‡å¤æ‹·è´ï¼ˆç”±äºŽARPä¼šæ³›æ´ªå’Œæ•°æ®çš„é‡å¤ä¼ é€’ï¼Œå¯¼è‡´Aä¸»æœºå‘é€çš„ARPä¼šè¢«äº¤æ¢æœºé‡å¤å‘é€åˆ°Bä¸»æœºï¼‰ è§£å†³æ–¹æ¡ˆï¼šé€»è¾‘æ€§é˜»å¡žæŸä¸ªæŽ¥å£. åœ¨äº¤æ¢æœºä¹‹é—´ï¼Œé€šè¿‡å‘é€æ¯”è¾ƒä¿¡æ¯ï¼Œé€‰æ‹©åœ¨çŽ¯è·¯ä¹‹é—´åº”è¯¥è¢«é˜»å¡žçš„æŽ¥å£. ç”Ÿæˆæ ‘ç±»åž‹ï¼š å…¬æœ‰ç”Ÿæˆæ ‘ï¼šSTPï¼ˆåˆç§°ä¸º802.1D æ ‡å‡†ç”Ÿæˆæ ‘ï¼‰RSTPï¼ˆ802.1W å¿«é€Ÿç”Ÿæˆæ ‘ï¼‰MSTï¼ˆ802.1S å¤šç”Ÿæˆæ ‘ï¼‰ ç§æœ‰ç”Ÿæˆæ ‘ï¼šPVSTï¼ˆåŸºäºŽVLANçš„æ ‡å‡†ç”Ÿæˆæ ‘ï¼Œæ¯ä¸€VLANéƒ½æœ‰è‡ªå·±çš„ä¸€å¥—ç”Ÿæˆæ ‘ï¼‰PVRST+ï¼ˆåŸºäºŽVLANçš„å¿«é€Ÿç”Ÿæˆæ ‘ï¼‰ å‘é€æ¯”è¾ƒä¿¡æ¯BPDUâ€”ç½‘æ¡¥åè®®æ•°æ®å•å…ƒé…ç½®BPDUï¼šconfig-BPDUæ‹“æ‰‘å˜æ›´BPDUï¼šTCN-BPDU Protocol IDï¼šåè®®å·ï¼Œä»£è¡¨æˆ‘æ˜¯ä¸€ä¸ªBPDUæŠ¥æ–‡ Versionï¼šè¡¨ç¤ºæ˜¯å“ªä¸€ç§BPDUï¼ˆ802.1Dæˆ–è€…802.1Wç­‰ï¼‰ Message Typeï¼šè¡¨ç¤ºæ˜¯é…ç½®BPDUè¿˜æ˜¯æ‹“æ‰‘å˜æ›´BPDU Flagsï¼š802.1Dä¸­æè¿°æ˜¯æ‹“æ‰‘å˜æ›´BPDUè¿˜æ˜¯æ‹“æ‰‘å˜æ›´BPDUç¡®è®¤ï¼Œå 2Bitã€‚802.1Wå’Œ802.1Sä¸­ï¼Œç”¨äºŽæ•´ä¸ªç”Ÿæˆæ ‘çš„é€‰ä¸¾ï¼Œå 6Bitã€‚ Root IDï¼šæ ¹æ ‡è¯†ç¬¦ ï¼Œåœ¨ä¸€æ£µç”Ÿæˆæ ‘ä¸­è¡¨ç¤ºå”¯ä¸€æ ¹.ä½¿ç”¨æœ€ä¼˜è´¨çš„BIDè¡¨ç¤ºï¼Œå³æ ¹äº¤æ¢æœºçš„RID=BIDã€‚ Cost Of Pathï¼šä¹Ÿç§°ä¸ºCoPå€¼ï¼Œè·¯å¾„å¼€é”€ï¼Œæè¿°äº†æœ¬æŽ¥å£åˆ°è¾¾æ ¹çš„è·¯å¾„å¼€é”€å€¼ä¹‹å’Œï¼Œæ•°å€¼è¶Šå°è¶Šä¼˜10Gâ€”â€“21Gâ€”â€”â€“4100Mâ€”â€“1910Mâ€”â€“100é»˜è®¤æ ¹ç½‘æ¡¥ä¸Šæ‰€æœ‰æŽ¥å£çš„COPå€¼ä¸º0ï¼Œç»è¿‡ä¸åŒçš„é“¾è·¯å¢žåŠ å¯¹åº”çš„cost Bridge ID ï¼šç½‘æ¡¥æ ‡è¯†ç¬¦ï¼Œç”¨äºŽè¡¨ç¤ºè¯¥äº¤æ¢æœºæˆ–ç½‘æ¡¥åœ¨äº¤æ¢ç½‘ç»œä¸­çš„å”¯ä¸€æ€§æž„æˆï¼šBID ä¼˜å…ˆçº§ + macåœ°å€æ³¨æ„ï¼šPVSTã€PVRSTP+ çš„æž„æˆ ï¼šBIDä¼˜å…ˆçº§+VLAN ID+macåœ°å€MST çš„æž„æˆ ï¼šBIDä¼˜å…ˆçº§+ instance ID + macåœ°å€ BIDä¼˜å…ˆçº§ï¼šé»˜è®¤å€¼ä¸º32768ï¼Œæ•°å€¼èŒƒå›´0-65535ï¼ˆBIDä¼˜å…ˆçº§æ•°å€¼å¿…é¡»ä¸º4096çš„å€æ•°ï¼Œ èŒƒå›´ä¹Ÿå¯ç§°ä¸º0-61440ï¼‰,å†ä½¿ç”¨BIDä¼˜å…ˆçº§æ—¶ï¼Œæ•°å€¼è¶Šå°è¶Šä¼˜. Mac åœ°å€ï¼šæœ¬äº¤æ¢æœºä¸ŠèƒŒæ¿åœ°å€æ± ä¸­æœ€å°çš„MACåœ°å€ï¼Œmacåœ°å€è¶Šå°è¶Šä¼˜ Port ID ï¼šç«¯å£æ ‡è¯†ç¬¦ï¼Œç”¨äºŽè¡¨ç¤ºæœ¬äº¤æ¢æœºä¸ŠæŽ¥å£çš„å”¯ä¸€æ€§æ ‡è¯†æž„æˆï¼š PIDä¼˜å…ˆçº§+port number PIDä¼˜å…ˆçº§ï¼šé»˜è®¤ä¸º128ï¼Œæ•°å€¼èŒƒå›´0-255ï¼ˆPIDä¼˜å…ˆçº§å¿…é¡»ä¸º16çš„å€æ•°ï¼Œæ‰€æœ‰èŒƒå›´ 0-240ï¼‰,æ•°å€¼è¶Šå°è¶Šä¼˜ Port numberï¼šç«¯å£å·ï¼Œè¡¨ç¤ºäº†æœ¬äº¤æ¢æœºè¯¥æŽ¥å£çš„å”¯ä¸€æ€§ï¼Œä¸€èˆ¬ä¸ºæŽ¥å£çš„ç«¯å£å·æ ‡ è¯†ï¼Œæ•°å€¼è¶Šå°è¶Šä¼˜. Message age ï¼šæ¶ˆæ¯æ—¶é—´ï¼Œä¹Ÿç§°æ¶ˆæ¯çš„è€åŒ–æ—¶é—´ï¼Œå®žé™…ä¸Šç­‰äºŽMACåœ°å€è€åŒ–æ—¶é—´ï¼Œ é»˜è®¤300sï¼Œå³300sä¸å‘ä»»ä½•æ•°æ®å°±åˆ æŽ‰æ­¤macåœ°å€ï¼Œåœ¨å¯ç”¨portfastç­‰ç‰¹æ€§æ—¶å˜ä¸º15s Max age ï¼šæœ€å¤§ç­‰å¾…æ—¶é—´ï¼Œé»˜è®¤20sï¼Œhelloæ•°æ®åŒ…çš„è¶…æ—¶æ—¶é—´ä»¥åŠä»Žblockingè¿›å…¥ listening çŠ¶æ€ç­‰å¾…æ—¶é—´ Hellotime ï¼šé»˜è®¤2sï¼Œé…ç½®BPDUçš„å‘é€é—´éš” Forward delay ï¼šè½¬å‘å»¶æ—¶ï¼Œé»˜è®¤15s ï¼Œåœ¨ç”Ÿæˆæ ‘ä¸­çŠ¶æ€åˆ‡æ¢é—´éš”Listeningè¿›å…¥learningè¿›å…¥forwarding æ—¶é—´éš” äº¤æ¢ç½‘ç»œä¸­äº¤æ¢æœºçš„è§’è‰²ä»¥åŠç«¯å£çŠ¶æ€åˆ‡æ¢äº¤æ¢æœºè§’è‰²ï¼šåˆ†ä¸ºæ ¹ç½‘æ¡¥å’Œéžæ ¹ç½‘æ¡¥ç«¯å£è§’è‰²ï¼šæ ¹ç«¯å£ã€æŒ‡å®šç«¯å£ã€éžæŒ‡å®šç«¯å£ï¼ˆé˜»å¡žç«¯å£ï¼‰ç«¯å£çŠ¶æ€åˆ‡æ¢ï¼š Blocking ï¼šé˜»å¡žçŠ¶æ€ï¼Œä¸èƒ½å‘é€BPDUï¼ŒæŽ¥æ”¶BPDUï¼Œä¸èƒ½å‘é€å’ŒæŽ¥æ”¶æ•°æ®ï¼Œè¢«åŠ¨ç­‰å¾… 20sè¿›å…¥ä¸‹ä¸€çŠ¶æ€ Listening ï¼šç›‘å¬çŠ¶æ€ï¼Œå¯ä»¥å‘é€å’ŒæŽ¥æ”¶BPDUï¼Œä¸èƒ½å‘é€å’ŒæŽ¥æ”¶æ•°æ®ï¼Œè¿›è¡ŒSTPé€‰ä¸¾ï¼Œ è¢«åŠ¨ç­‰å¾…ä¸€ä¸ª forward delay 15sè¿›å…¥ä¸‹ä¸€çŠ¶æ€ Learning ï¼šå­¦ä¹ çŠ¶æ€ï¼Œå¯ä»¥å‘é€å’ŒæŽ¥æ”¶BPDUï¼Œä¸èƒ½å‘é€å’ŒæŽ¥æ”¶æ•°æ®ï¼Œå¯ä»¥å­¦ä¹ BPDU ä¸­çš„æºMACåœ°å€ï¼ˆMACåœ° å€å­¦ä¹ çŠ¶æ€ï¼‰ï¼Œè¢«åŠ¨ç­‰å¾…ä¸€ä¸ªforward delay 15sè¿›å…¥ä¸‹ä¸€ çŠ¶æ€ï¼Œç”Ÿæˆæ ‘çš„é€‰ä¸¾åœ¨æ­¤è¿‡ç¨‹ä¸­å®Œæˆã€‚ Forwarding ï¼šè½¬å‘çŠ¶æ€ï¼Œå¯ä»¥å‘é€ã€æŽ¥æ”¶BPDUå’Œæ•°æ®ï¼Œmacåœ°å€å­¦ä¹ å’Œç”Ÿæˆæ ‘æŽ¥å£ çŠ¶æ€åˆ‡æ¢å®Œæˆ ç”Ÿæˆæ ‘é€‰ä¸¾é€‰ä¸¾é¡ºåºï¼šæ ¹ç½‘æ¡¥-&gt;æ ¹ç«¯å£-&gt;æŒ‡å®šç«¯å£-&gt;éžæŒ‡å®šç«¯å£(é˜»å¡žç«¯å£)æ ¹ç½‘æ¡¥é€‰ä¸¾ï¼šå…·æœ‰æœ€ä¼˜BIDçš„äº¤æ¢æœºä¸ºæ ¹ç½‘æ¡¥ æ ¹ç«¯å£ï¼šç”¨äºŽæŽ¥æ”¶æ¥è‡ªæ ¹çš„BPDUä¿¡æ¯ï¼Œåªèƒ½å­˜åœ¨äºŽéžè·Ÿç½‘æ¡¥ä¹‹ä¸Šï¼Œå¹¶ä¸”ä¸€ä¸ªäº¤æ¢æœº åªèƒ½å­˜åœ¨ä¸€ä¸ª. æ ¹ç«¯å£é€‰ä¸¾1.æœ€å°COPå€¼2.å‘é€æ–¹æœ€å°çš„BID3.å‘é€æ–¹çš„PID æŒ‡å®šç«¯å£ï¼šç”¨äºŽå‘é€æˆ–è½¬å‘BPDUä¿¡æ¯ï¼Œå­˜åœ¨äºŽæ¯æ¡é“¾è·¯ä¸­ï¼Œä¸€æ¡åªèƒ½å­˜åœ¨ä¸€ä¸ªæŒ‡å®š ç«¯å£ï¼Œæ ¹ç½‘æ¡¥çš„æ‰€æœ‰æŽ¥å£å…¨ä¸ºæŒ‡å®šç«¯å£ æŒ‡å®šç«¯å£é€‰ä¸¾1.æŽ¥å£æ‰€å±žäº¤æ¢æœºä¸Šæ ¹ç«¯å£åˆ°è¾¾æ ¹ç½‘æ¡¥çš„COPå€¼2.æœ¬äº¤æ¢æœºBID3.æœ¬åœ°çš„PIDé˜»å¡žç«¯å£é€»è¾‘ä¸Šæ‰“ç ´æŽ¥å£. é€‰ä¸¾è¯¦ç»†è¿‡ç¨‹æ ¹ç½‘æ¡¥é€‰ä¸¾ è¿™é‡Œå‡è®¾sw1 BIDä¼˜å…ˆçº§æœ€é«˜ï¼ˆbidä¼˜å…ˆçº§ä»¥æ­¤ç±»æŽ¨ï¼‰ï¼Œæ•…sw1ä¸ºæ ¹ç½‘æ¡¥æ ¹ç«¯å£é€‰ä¸¾ SW1ï¼šæ— æ ¹ç«¯å£ SW2ï¼š1.æœ€å°copï¼ˆæŽ¥å£1å’Œ2ï¼‰ç›¸åŒ2.å‘é€æ–¹éƒ½ä¸ºæ ¹ç½‘æ¡¥ï¼Œbidç›¸åŒ3.æ ¹ç½‘æ¡¥æŽ¥å£5çš„pidå°ï¼Œæ•…é€‰å‡ºæ ¹ç«¯å£ä¸ºæŽ¥å£1 SW3ï¼š1.æœ€å°copï¼ˆæŽ¥å£1å’Œ2ï¼‰ç›¸åŒ2.å‘é€æ–¹éƒ½ä¸ºæ ¹ç½‘æ¡¥ï¼Œbidç›¸åŒ3.æ ¹ç½‘æ¡¥æŽ¥å£1çš„pidå°ï¼Œæ•…é€‰å‡ºæ ¹ç«¯å£ä¸ºæŽ¥å£1 SW4ï¼š1.æœ€å°copï¼ˆæŽ¥å£1å’Œ2ï¼‰ç›¸åŒ2.å‘é€æ–¹éƒ½ä¸ºæ ¹ç½‘æ¡¥ï¼Œbidç›¸åŒ3.æ ¹ç½‘æ¡¥æŽ¥å£3çš„pidå°ï¼Œæ•…é€‰å‡ºæ ¹ç«¯å£ä¸ºæŽ¥å£1 SW5ï¼š1.æœ€å°copï¼ˆæŽ¥å£1å’Œ2ï¼‰ç›¸åŒ2.å‘é€æ–¹sw3çš„bidå°äºŽsw4çš„bidï¼Œæ•…é€‰å‡ºæ ¹ç«¯å£ä¸ºæŽ¥å£1 SW6ï¼š1.æœ€å°copï¼ˆæŽ¥å£1å’Œ2ï¼‰ç›¸åŒ2.å‘é€æ–¹sw3çš„bidå°äºŽsw4çš„bidï¼Œæ•…é€‰å‡ºæ ¹ç«¯å£ä¸ºæŽ¥å£1 æ ¹ç«¯å£é€‰ä¸¾ç»“æžœå¦‚å›¾ æŒ‡å®šç«¯å£é€‰ä¸¾ SW1ï¼šæ‰€æœ‰æŽ¥å£éƒ½ä¸ºæŒ‡å®šç«¯å£ SW2ï¼šæŽ¥å£2ä¸€å®šä¸ºé˜»å¡žç«¯å£1.æŽ¥å£3å’Œ4ä¸Žsw2ç›¸æ¯”ï¼Œ copç›¸åŒï¼ŒæŽ¥å£5ä¸Ž6å’Œsw4ç›¸æ¯”ï¼Œcopç›¸åŒ2.æœ¬äº¤æ¢æœºBIDä¼˜äºŽsw3å’Œsw4ï¼Œæ•…æŽ¥å£3ï¼Œ4ï¼Œ5ï¼Œ6ä¸ºæŒ‡å®šç«¯å£ SW3ï¼šsw5å’Œsw6æœ‰å”¯ä¸€çš„æ ¹ç«¯å£ï¼Œæ•…æŽ¥å£7å’Œ8ä¸€å®šä¸ºæŒ‡å®šç«¯å£ï¼ŒæŽ¥å£2ï¼Œ3ï¼Œ4ä¸€å®šä¸ºé˜»å¡žç«¯å£1.æŽ¥å£5å’Œ6ä¸Žsw4ç›¸æ¯”copç›¸åŒ2.æœ¬äº¤æ¢æœºBIDä¼˜äºŽsw4ï¼Œæ•…æŽ¥å£5å’Œ6ä¸ºæŒ‡å®šç«¯å£ SW4ï¼šæŽ¥å£2ï¼Œ3ï¼Œ4ä¸€å®šä¸ºé˜»å¡žç«¯å£1.æŽ¥å£7ä¸Žsw5ç›¸æ¯”ï¼Œcopå°äºŽsw5ï¼Œæ•…æŽ¥å£7ä¸ºæŒ‡å®šç«¯å£æŽ¥å£8ä¸Žsw6ç›¸æ¯”ï¼Œcopå°äºŽsw6ï¼Œæ•…æŽ¥å£8ä¸ºæŒ‡å®šç«¯å£ SW5ï¼šæŽ¥å£2ä¸ºé˜»å¡žç«¯å£ SW6ï¼šæŽ¥å£2ä¸ºé˜»å¡žç«¯å£ æŒ‡å®šç«¯å£é€‰ä¸¾ç¬¬ä¸‰æ¡çš„ç‰¹æ®Šæƒ…å†µå‡è®¾sw1å’Œsw2çš„copç›¸åŒï¼Œsw2çš„bidä¼˜ï¼Œä½†sw2çš„æŽ¥å£1å’Œ2ä¸èƒ½åŒæ—¶æˆä¸ºæŒ‡å®šç«¯å£ï¼Œå¦åˆ™ä¼šå‡ºçŽ¯ï¼Œæ‰€ä»¥æ¯”ç¬¬ä¸‰æ¡æŽ¥å£pidï¼Œç”±äºŽsw2çš„æŽ¥å£1çš„pidå°äºŽæŽ¥å£2çš„pidï¼Œæ•…æŽ¥å£1æˆä¸ºæŒ‡å®šç«¯å£ç”Ÿæˆæ ‘æ‹“æ‰‘ç»“æž„å˜åŒ–ç”±å‘ç”Ÿæ”¹å˜çš„äº¤æ¢æœºçš„æ ¹ç«¯å£å‘æ ¹ç½‘æ¡¥å‘é€æ‹“æ‰‘å˜æ›´BPDUï¼Œæ ¹ç½‘æ¡¥æ”¶åˆ°åŽä»¥è‡ªå·±ä¸ºæ ¹é‡æ–°æ”¶æ•›ï¼Œä¹‹åŽåœ¨å‘ä¹‹å‰å‘é€æ‹“æ‰‘å˜æ›´BPDUçš„æ ¹ç«¯å£å‘é€æ‹“æ‰‘å˜æ›´BPDUç¡®è®¤ ç”Ÿæˆæ ‘çš„æŽ§åˆ¶ æ ¹ç½‘æ¡¥çš„æŽ§åˆ¶è®¾ç½®BIDä¼˜å…ˆçº§ï¼Œé»˜è®¤ä¸º32768ï¼Œä¿®æ”¹sw2çš„bidä¸º32768-4096=28672sw2(config)#spanning-tree vlan 1 priority 28672This bridge is the rootè®¾ç½®ä¸»æ ¹å’Œå¤‡ä»½æ ¹ï¼Œè®¾ç½®sw1ä¸ºä¸»æ ¹ï¼Œsw2ä¸ºå¤‡ä»½æ ¹sw1(config)#spanning-tree vlan 1 root primarysw2(config)#spanning-tree vlan 1 root secondaryä¸»æ ¹çš„ä¼˜å…ˆçº§å˜ä¸º32768-2*4096=24576Bridge ID Priority 24577 (priority 24576 sys-id-ext 1)å¤‡ä»½æ ¹çš„ä¼˜å…ˆçº§å˜ä¸º32768-4096=28672Bridge ID Priority 28673 (priority 28672 sys-id-ext 1) æŽ§åˆ¶æ ¹ç«¯å£çš„ä½ç½®ä¿®æ”¹é“¾è·¯costå€¼ï¼šä¿®æ”¹sw2çš„costä¸º120sw2(config-if)#spanning-tree vlan 1 cost 120ä¿®æ”¹å‰Et0/0 Root FWD 100 128.1 ShrEt0/1 Altn BLK 100 128.2 Shrä¿®æ”¹åŽEt0/0 Altn BLK 120 128.1 ShrEt0/1 Root LIS 100 128.2 Shrä¿®æ”¹å‘é€æ–¹BIDï¼šä¸Žä¸Šè¿°ä¿®æ”¹æ ¹ç½‘æ¡¥ä¹‹ä¿®æ”¹BIDä¼˜å…ˆçº§æ–¹æ³•ä¸€è‡´ä¿®æ”¹å‘é€æ–¹PIDï¼šä¿®æ”¹sw1çš„e0/2æŽ¥å£pidä¸º192sw1(config-if)#spanning-tree vlan 1 port-priority 192ä¿®æ”¹ä¹‹åŽsw1Et0/2 Desg FWD 100 192.3 Shrä¿®æ”¹ä¹‹å‰sw3Et0/2 Root FWD 100 128.3 ShrEt0/3 Altn BLK 100 128.4 Shrä¿®æ”¹ä¹‹åŽsw3Et0/2 Altn BLK 100 128.3 ShrEt0/3 Root LIS 100 128.4 Shr 802.1Dç”Ÿæˆæ ‘ä¼˜ç¼ºç‚¹ä¼˜ç‚¹ï¼šæ ‘å°‘ã€ç®€å•ã€ç¼ºç‚¹ï¼šç”Ÿæˆæ ‘æ”¶æ•›é€Ÿåº¦æ…¢ï¼ˆé»˜è®¤å…±è®¡æ”¶æ•›æ—¶é—´50sï¼‰ï¼ŒåŸºäºŽè®¡æ—¶å™¨æ”¶æ•›ã€ä¸èƒ½è¿›è¡Œè´Ÿ è½½åˆ†æ‹… PVSTä¼˜ç¼ºç‚¹ä¼˜ç‚¹ï¼šç®€å•ã€æ”¯æŒè´Ÿè½½åˆ†æ‹…ç¼ºç‚¹ï¼šç”Ÿæˆæ ‘æ”¶æ•›é€Ÿåº¦æ…¢ï¼Œç”Ÿæˆæ ‘æ•°é‡è¾ƒå¤š. è§£å†³åŠžæ³•ï¼š1.ä½¿ç”¨spanning tree çš„å¢žå¼ºç‰¹æ€§ portfastã€backbonefast ã€uplinkfast2.ä½¿ç”¨RSTPæˆ–MST]]></content>
      <categories>
        <category>CCNP</category>
      </categories>
      <tags>
        <tag>CCNP</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¾®ä¿¡é€æ˜Žå¤´åƒ]]></title>
    <url>%2Fpost%2F1e20b564.html</url>
    <content type="text"><![CDATA[ä¸æ˜¯ä¸åšï¼Œæ—¶å€™æœªåˆ°ã€‚ å…ˆæ¥ä¸€å¼ æ•ˆæžœå›¾ æ•™ç¨‹å¼€å§‹ç´ æçš„å‡†å¤‡å’ŒPhotoShopè½¯ä»¶è¿™é‡Œæˆ‘ä»¥æ»‘ç¨½è¡¨æƒ…ä¸ºä¾‹ ç”¨PSæ‰“å¼€æ»‘ç¨½è¡¨æƒ… æŒ‰ä½Shift+Ctrl+Næ–°å»ºå›¾å±‚ æŠ å›¾ æŠ å›¾å®ŒæˆåŽæŒ‰Ctrl+X ç„¶åŽåˆ é™¤è¿™ä¸ªå›¾å±‚ æŒ‰Ctrl+Vç²˜è´´åˆ°ç¬¬äºŒéƒ¨æ–°å»ºçš„å›¾å±‚ä¸­ç„¶åŽé€‰ä¸­è¿™ä¸ªå›¾å±‚ æŒ‰Ctrl+Tè¿›è¡Œç¼©æ”¾ ç¼©æ”¾æˆå¦‚å›¾æ‰€ç¤ºçš„å¤§å° ä¿å­˜ä¸ºpngæ ¼å¼ å¤åˆ¶åˆ°æ‰‹æœºä¸Šï¼ˆå¤åˆ¶åŽŸæ–‡ä»¶ï¼‰åœ¨æ‰‹æœºå¾®ä¿¡ä¸Šæ›´æ¢å›¾åƒè¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ è¦æŠŠå›¾åƒç¼©æ”¾åˆ°åˆé€‚çš„å¤§å°æ‰‹åŠ¨æ»‘ç¨½~â€¦~]]></content>
      <categories>
        <category>æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>æ•™ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä¸ºMIUIæ·»åŠ äººè„¸è§£é”]]></title>
    <url>%2Fpost%2F5ea5d52e.html</url>
    <content type="text"><![CDATA[ä¸æ˜¯ä¸åšï¼Œæ—¶å€™æœªåˆ°ã€‚ çŽ©è…»äº†æŒ‡çº¹è§£é”ï¼Œè¯•è¯•çœ‹äººè„¸è¯†åˆ«å§ï¼ŒFaceID For MIUI9_MI5è§£Bootloaderé”è§£Bootloaderé”æ•™ç¨‹:ç‚¹è¿™é‡Œ åˆ·ç¬¬ä¸‰æ–¹Recoveryå°ç±³5ä¸“ç”¨RecoveryBY~XMå¤§ä½¬çš„recæœ¬äººä¸€ç›´ç”¨çš„è¿™ä¸ªrec æ”¯æŒOTAå¢žé‡æ›´æ–° è¿›å…¥recæ³•ä¸€ï¼šå¼€æœºæŒ‰ç”µæºé”®+éŸ³é‡é”®ä¸Š ç›´åˆ°miæ ‡å‡ºçŽ°æ”¾å¼€ç”µæºé”®æ³•äºŒï¼šç³»ç»Ÿæ›´æ–°ç•Œé¢-å³ä¸Šè§’ä¸‰ä¸ªå°åœ†ç‚¹-é‡å¯åˆ°æ¢å¤æ¨¡å¼ï¼ˆRecoveryï¼‰ åˆ·å…¥å¡åˆ·åŒ…è¯·æ³¨æ„æ­¤å¡åˆ·åŒ…åªé€‚ç”¨äºŽå®˜æ–¹ç¨³å®šç‰ˆæˆ–å¼€å‘ç‰ˆFaceID For MIUI9_Mi5.zipå¯†ç ï¼š6666 é‡å¯å¤§åŠŸå‘Šæˆä¸åˆ·ç¬¬ä¸‰æ–¹recçš„æ–¹æ³•è¿˜æ˜¯è§£Bootloaderé”è§£Bootloaderé”æ•™ç¨‹:ç‚¹è¿™é‡Œ ä¸‹è½½èµ„æºä¸‹è½½è½¯ä»¶é‡Œè¾¹æœ‰æ‰€æœ‰çš„èµ„æºå°ç±³äº”äººè„¸è§£é”æå–+å·¥å…·.zipå¯†ç ï¼š6666 å®‰è£…ä¸¤ä¸ªAPPREæ–‡ä»¶ç®¡ç†å™¨ï¼Œsyslockï¼ˆç”¨æ¥è§£systemé”ï¼‰ èŽ·å–rootæƒé™å¹¶èµ‹äºˆæƒé™1.å¼€å‘ç‰ˆç›´æŽ¥åœ¨å®‰å…¨ä¸­å¿ƒå¼€å¯rootæƒé™2.ç»™è¿™ä¸¤ä¸ªAPPèµ‹äºˆrootæƒé™3.ä½¿ç”¨syslockè§£é”systemï¼ˆéœ€è¦é‡å¯ï¼‰ è‡³æ­¤èŽ·å–äº†å®Œæ•´çš„rootæƒé™ æ›¿æ¢æ–‡ä»¶1.ç”¨ã€Šéœ€è¦æ›¿æ¢çš„appã€‹ä¸­çš„ä¸¤ä¸ªapkæ–‡ä»¶æ›¿æ¢ /system/priv-app/settings å’Œ /system/priv-app/MiuiKeygard ä¸­çš„ä¸¤ä¸ª App.2.ç”¨ã€Šéœ€è¦æ›¿æ¢çš„æ–‡ä»¶ã€‹ä¸­çš„äº”ä¸ªæ–‡ä»¶æ›¿æ¢ system/lib64 ç›®å½•ä¸‹çš„äº”ä¸ª so æ–‡ä»¶ï¼ˆç›´æŽ¥å¤åˆ¶è¿›åŽ»ï¼‰ Reboot å¤§åŠŸå‘Šæˆï¼å°ç±³äº”ï¼Œçº¢ç±³note4.MIX.5s.5sp.éƒ¨åˆ†6.éƒ¨åˆ†çº¢ç±³.5xæš‚æ—¶éƒ½å¯ä»¥ä½¿ç”¨ï¼Œç†è®ºæ”¯æŒmiui9æ‰€æœ‰ç¨³å®šç‰ˆï¼Œå¼€å‘æ¿ï¼Œä½“éªŒç‰ˆã€‚]]></content>
      <categories>
        <category>æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>æ•™ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è‡ªå®šä¹‰QQåŠ¨æ€å›¾åƒçš„æ•™ç¨‹]]></title>
    <url>%2Fpost%2F3ffe6d5a.html</url>
    <content type="text"><![CDATA[ä¸æ˜¯ä¸åšï¼Œæ—¶å€™æœªåˆ°ã€‚ è‡ªå®šä¹‰QQåŠ¨æ€å›¾åƒå¯ä»¥å…ˆçœ‹ä¸€ä¸‹æˆ‘çš„QQå¤´åƒã€‚ç‚¹å‡»åŠ æˆ‘ä¸ºå¥½å‹å…¶å®žå¾ˆç®€å•ï¼Œå°±æ˜¯ä¸€ä¸ªæ›¿æ¢æ–‡ä»¶çš„æ“ä½œã€‚ æŠŠè¦è®¾ç½®çš„è§†é¢‘ã€MP4æ ¼å¼ï¼Œ10ç§’ä¹‹å†…ï¼Œæ–‡ä»¶å°½é‡ä¸è¦å¤ªå¤§ã€‘ç²˜è´´åˆ°ï¼ˆDCIMï¼‰é‡Œé¢çš„ï¼ˆCameraï¼‰æ–‡ä»¶å¤¹é‡Œï¼Œåˆ‡è®°ä¸è¦é€€å‡ºã€‚ åˆ‡æ¢åˆ°QQï¼Œç‚¹å¼€å¤´åƒæ‹æ‘„åŠ¨æ€å¤´åƒï¼Œè¿™ä¸€ç‚¹è¦è®°ä½æ‹å®Œè§†é¢‘ä¸è¦ç‚¹å®Œæˆã€‚ åˆ‡æ¢åˆ°æ–‡ä»¶ç®¡ç†ï¼Œä½ ä¼šå‘çŽ°è¿™ä¸ªæ–‡ä»¶å¤¹é‡Œå¤šäº†ä¸€ä¸ªè§†é¢‘ï¼Œä½ æŠŠè¿™ä¸ªå¤šå‡ºæ¥çš„è§†é¢‘æ–‡ä»¶åå¤åˆ¶ä¸€ä¸‹ï¼Œå¹¶ä¸”åˆ é™¤è¿™ä¸ªè§†é¢‘ã€‚ ç„¶åŽæ‰¾åˆ°ä½ åˆšæ‰å‰ªåˆ‡ç²˜è´´çš„é‚£ä¸ªè§†é¢‘ï¼ŒæŠŠæ–‡ä»¶åå­—æ›¿æ¢äº†ï¼Œåˆ‡æ¢QQç‚¹å®Œæˆå°±å¯ä»¥äº†ã€‚æ˜¯ä¸æ˜¯å¾ˆç®€å•å‘¢ï¼Œå¦‚æžœæ²¡æ˜Žç™½çš„è¯ï¼ŒåŽ»æˆ‘çš„QQç©ºé—´æœ‰è§†å±æ•™ç¨‹ã€‚tipsï¼šè¿›ç©ºé—´ä½¿åŠ²å¾€ä¸‹æ‹‰ã€‚ ä½¿ç”¨Ctrl+Dæ”¶è—æœ¬ç«™ ä¸æ˜¯ä¸åšï¼Œæ—¶å€™æœªåˆ°ã€‚]]></content>
      <categories>
        <category>æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>æ•™ç¨‹</tag>
      </tags>
  </entry>
</search>
